{"remainingRequest":"C:\\Users\\ぱすー\\Desktop\\rase-vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\ぱすー\\Desktop\\rase-vue\\src\\views\\StoreAdmin.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\ぱすー\\Desktop\\rase-vue\\src\\views\\StoreAdmin.vue","mtime":1626565338156},{"path":"C:\\Users\\ぱすー\\Desktop\\rase-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\ぱすー\\Desktop\\rase-vue\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\ぱすー\\Desktop\\rase-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\ぱすー\\Desktop\\rase-vue\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQovKiogSGVhZGVy44Gu5Lya56S+44Ot44K044Gu44Kz44Oz44Od44O844ON44Oz44OIICovDQppbXBvcnQgSGVhZGVySWNvbiBmcm9tICdAL2NvbXBvbmVudHMvSGVhZGVySWNvbi52dWUnDQoNCi8qKiDkuojntITjg4fjg7zjgr/nlLvlg4/jga7jgrPjg7Pjg53jg7zjg43jg7Pjg4ggKi8NCmltcG9ydCBSZXNlcnZhdGlvbiBmcm9tICdAL2NvbXBvbmVudHMvUmVzZXJ2YXRpb24udnVlJw0KDQppbXBvcnQgYXhpb3MgZnJvbSAiYXhpb3MiOw0KDQpleHBvcnQgZGVmYXVsdCB7DQoNCiAgZGF0YSgpew0KICAgIHJldHVybnsNCiAgICAgIHN0b3JlZGF0YTp7DQogICAgICAgIG5hbWU6dGhpcy4kc3RvcmUuc3RhdGUuc3RvcmVkYXRhLm5hbWUsDQogICAgICAgIHJlZ2lvbjp0aGlzLiRzdG9yZS5zdGF0ZS5zdG9yZWRhdGEucmVnaW9uLA0KICAgICAgICBnZW5yZTp0aGlzLiRzdG9yZS5zdGF0ZS5zdG9yZWRhdGEuZ2VucmUsDQogICAgICAgIG92ZXJ2aWV3OnRoaXMuJHN0b3JlLnN0YXRlLnN0b3JlZGF0YS5vdmVydmlldywNCiAgICAgICAgaW1hZ2U6dGhpcy4kc3RvcmUuc3RhdGUuc3RvcmVkYXRhLmltYWdlDQogICAgICB9LA0KICAgICAgc3RvcmU6IiIsDQogICAgICBzdG9yZUF1dGg6ZmFsc2UsDQogICAgICByZXNlcnZhdGlvbmRhdGE6IiIsDQogICAgICBzeW5jOmZhbHNlLA0KICAgICAgaW1hZ2U6IiIsDQogICAgICBpbWFnZWRhdGE6ew0KICAgICAgICBpbWFnZToiIiwNCiAgICAgICAgbmFtZToiIiwNCiAgICAgIH0NCg0KICAgIH0NCiAgfSwNCg0KICBjb21wb25lbnRzOiB7DQogICAgSGVhZGVySWNvbiwNCiAgICBSZXNlcnZhdGlvbg0KICB9LA0KDQogIG1ldGhvZHM6IHsNCg0KICAgIC8qKiDjg57jgqTjg5rjg7zjgrjjgavmiLvjgosgKi8NCiAgICBteXBhZ2UoKSB7DQogICAgICB0aGlzLiRyb3V0ZXIucHVzaCgiL215cGFnZSIpOw0KICAgIH0sDQoNCiAgICAvKiog5bqX6IiX55m76Yyy44GL5pu05paw44KS44GZ44KL6Zqb44Gu55S76Z2i5YiH44KK5pu/44GI55SoIOmWi+OBjyovDQogICAgc3RvcmVBdXRoT24oKSB7DQogICAgICB0aGlzLnN0b3JlQXV0aD10cnVlOw0KICAgIH0sDQoNCiAgICAvKiog5bqX6IiX55m76Yyy44GL5pu05paw44KS44GZ44KL6Zqb44Gu55S76Z2i5YiH44KK5pu/44GI55SoIOmWieOBmOOCiyovDQogICAgc3RvcmVBdXRoT2ZmKCkgew0KICAgICAgdGhpcy5zdG9yZUF1dGg9ZmFsc2U7DQogICAgfSwNCg0KICAgIC8qKiBEQuOBi+OCieWPluOBo+OBpuOBjeOBn+ODkeOCueOBi+OCieeUu+WDj+WRvOOBs+WHuuOBm+OCi+OCiOOBhuOBq+a6tuaOpeOBmeOCi+mWouaVsOOAglMz44GL44KJ5Y+W5b6XKi8NCiAgICBTdG9yZWltYWdlKGltZ1VSTCl7DQogICAgICByZXR1cm4gYGh0dHBzOi8vcmFzZS1lbnlhLnMzLmFwLW5vcnRoZWFzdC0xLmFtYXpvbmF3cy5jb20vJHtpbWdVUkx9YA0KICAgIH0sDQoNCiAgICAvKirnlLvlg4/jg4fjg7zjgr/jgYzlhaXjgaPjgZ/pmpvjgavnlLvlg4/jg4fjg7zjgr/jgpLlhaXjgozjgosqLw0KICAgIG9uQ2hhbmdlSW1hZ2U6IGZ1bmN0aW9uKGV2ZW50KSB7DQogICAgICBjb25zdCBmaWxlcyA9IHRoaXMuJHJlZnMuZmlsZTsNCiAgICAgIGNvbnN0IGZpbGVJbWcgPSBmaWxlcy5maWxlc1swXTsNCiAgICAgIHRoaXMuc3RvcmVkYXRhLmltYWdlID0gZXZlbnQudGFyZ2V0LmZpbGVzWzBdOw0KICAgICAgaWYgKGZpbGVJbWcudHlwZS5zdGFydHNXaXRoKCJpbWFnZS8iKSkgew0KICAgICAgICB0aGlzLmltYWdlZGF0YS5pbWFnZSA9IHdpbmRvdy5VUkwuY3JlYXRlT2JqZWN0VVJMKGZpbGVJbWcpOw0KICAgICAgICB0aGlzLmltYWdlZGF0YS5uYW1lID0gZmlsZUltZy5uYW1lOw0KICAgICAgICB0aGlzLmltYWdlZGF0YS50eXBlID0gZmlsZUltZy50eXBlOw0KICAgICAgfQ0KICAgIH0sDQoNCiAgICAvKirjgrnjg4jjgqLjgpLkvZzmiJDjgZnjgosqLw0KICAgIGFzeW5jIHN0b3JlRGF0YUFkZCgpew0KDQogICAgICAvLyDnlLvlg4/jgpLpgIHjgozjgovjgojjgYbjgavlnovjgpLkvZzjgosNCiAgICAgIGNvbnN0IGltYWdlZGF0YSA9IG5ldyBGb3JtRGF0YSgpOw0KICAgICAgaW1hZ2VkYXRhLmFwcGVuZCgiaW1hZ2UiLCB0aGlzLnN0b3JlZGF0YS5pbWFnZSk7DQogICAgICBjb25zdCBjb25maWcgPSB7aGVhZGVyczogeydjb250ZW50LXR5cGUnOiAnbXVsdGlwYXJ0L2Zvcm0tZGF0YSd9fQ0KDQogICAgICAvLyDjgrnjg4jjgqLjg4fjg7zjgr/jga7pgIHkv6HjgILjg6bjg7zjgrbjg7zjg4fjg7zjgr/jgavjgrnjg4jjgqJJROOCkumAgeOCiyBQb3N0DQogICAgICBhd2FpdCBheGlvcy5wb3N0KHRoaXMuJHN0b3JlLnN0YXRlLmhvc3QgKyAiL2FwaS92MS9zdG9yZUFkbWluL3N0b3JlcyIsew0KICAgICAgICBuYW1lOiB0aGlzLnN0b3JlZGF0YS5uYW1lLA0KICAgICAgICByZWdpb246IHRoaXMuc3RvcmVkYXRhLnJlZ2lvbiwNCiAgICAgICAgZ2VucmU6IHRoaXMuc3RvcmVkYXRhLmdlbnJlLA0KICAgICAgICBvdmVydmlldzp0aGlzLnN0b3JlZGF0YS5vdmVydmlldywNCiAgICAgICAgZW1haWw6dGhpcy4kc3RvcmUuc3RhdGUudXNlci5lbWFpbA0KICAgICAgfSkudGhlbigocmVzcG9uc2UpID0+IHt0aGlzLiRzdG9yZS5jb21taXQoJ3N0b3JlZGF0YScscmVzcG9uc2UuZGF0YS5kYXRhWzBdKSx0aGlzLiRzdG9yZS5jb21taXQoJ3VzZXJfc3RvcmVfaWQnLHJlc3BvbnNlLmRhdGEuc3RvcmVkYXRhKX0pOw0KDQogICAgICAvLyDnlLvlg4/jg4fjg7zjgr/jgpJTM+OBq+mAgeS/oeOBl+OBpuODkeOCueOCkkRC44Gr44GE44KM44KLIFBvc3QNCiAgICAgIGF3YWl0IGF4aW9zLnBvc3QodGhpcy4kc3RvcmUuc3RhdGUuaG9zdCArICIvYXBpL3YxLyIgKyB0aGlzLiRzdG9yZS5zdGF0ZS51c2VyLnN0b3JlQWRtaW5fc3RvcmVfaWQgKyAiL3N0b3JlQWRtaW4vc3RvcmVzL2ltYWdlIixpbWFnZWRhdGEsY29uZmlnKS50aGVuKChyZXNwb25zZSkgPT4ge3RoaXMuJHN0b3JlLmNvbW1pdCgnaW1hZ2UnLHJlc3BvbnNlLmRhdGEuZGF0YSl9KQ0KDQogICAgICAvL+ODh+ODvOOCv+OCkuWFpeOCjOOCieOCjOOBn+OCieODquODreODvOODiQ0KICAgICAgaWYodGhpcy4kc3RvcmUuc3RhdGUudXNlci5zdG9yZUFkbWluX3N0b3JlX2lkKXsNCiAgICAgICAgdGhpcy5zdG9yZUF1dGg9ZmFsc2U7DQogICAgICAgIHRoaXMuJHJvdXRlci5nbyh7cGF0aDogdGhpcy4kcm91dGVyLmN1cnJlbnRSb3V0ZS5wYXRoLCBmb3JjZTogdHJ1ZX0pDQogICAgICB9DQogICAgfSwNCg0KICAgIC8qKuOCueODiOOCouOCkuabtOaWsOOBmeOCiyovDQogICAgYXN5bmMgc3RvcmVEYXRhVXBkYXRlKCl7DQoNCiAgICAgIC8vIOeUu+WDj+OCkumAgeOCjOOCi+OCiOOBhuOBq+Wei+OCkuS9nOOCiw0KICAgICAgY29uc3QgaW1hZ2VkYXRhID0gbmV3IEZvcm1EYXRhKCk7DQogICAgICBpbWFnZWRhdGEuYXBwZW5kKCJpbWFnZSIsIHRoaXMuc3RvcmVkYXRhLmltYWdlKTsNCiAgICAgIGNvbnN0IGNvbmZpZyA9IHtoZWFkZXJzOiB7J2NvbnRlbnQtdHlwZSc6ICdtdWx0aXBhcnQvZm9ybS1kYXRhJ319Ow0KDQogICAgICAvLyDjgrnjg4jjgqLjg4fjg7zjgr/jga7mm7TmlrAgUHV0DQogICAgICBhd2FpdCBheGlvcy5wdXQodGhpcy4kc3RvcmUuc3RhdGUuaG9zdCArICIvYXBpL3YxLyIgKyB0aGlzLiRzdG9yZS5zdGF0ZS5zdG9yZWRhdGEuaWQgKyAiL3N0b3JlQWRtaW4vc3RvcmVzIix7DQogICAgICAgIG5hbWU6IHRoaXMuc3RvcmVkYXRhLm5hbWUsDQogICAgICAgIHJlZ2lvbjogdGhpcy5zdG9yZWRhdGEucmVnaW9uLA0KICAgICAgICBnZW5yZTogdGhpcy5zdG9yZWRhdGEuZ2VucmUsDQogICAgICAgIG92ZXJ2aWV3OnRoaXMuc3RvcmVkYXRhLm92ZXJ2aWV3LA0KICAgICAgfSkudGhlbigocmVzcG9uc2UpID0+IHt0aGlzLiRzdG9yZS5jb21taXQoJ3N0b3JlZGF0YScscmVzcG9uc2UuZGF0YS5kYXRhWzBdKSx0aGlzLnN0b3JlQXV0aD1mYWxzZX0pOw0KDQogICAgICAvLyDnlLvlg4/jg4fjg7zjgr/jgpJTM+OBq+mAgeS/oeOBl+OBpuODkeOCueOCkkRC44Gr44GE44KM44KLIFBvc3QNCiAgICAgIGF3YWl0IGF4aW9zLnBvc3QodGhpcy4kc3RvcmUuc3RhdGUuaG9zdCArICIvYXBpL3YxLyIgKyB0aGlzLiRzdG9yZS5zdGF0ZS51c2VyLnN0b3JlQWRtaW5fc3RvcmVfaWQgKyAiL3N0b3JlQWRtaW4vc3RvcmVzL2ltYWdlIixpbWFnZWRhdGEsY29uZmlnKS50aGVuKChyZXNwb25zZSkgPT4ge3RoaXMuJHN0b3JlLmNvbW1pdCgnaW1hZ2UnLHJlc3BvbnNlLmRhdGEuZGF0YSl9KQ0KICAgIH0sDQoNCiAgICBhc3luYyByZXNlcnZhdGlvbmRhdGFpbigpew0KDQogICAgICAvLyAg5LqI57SE44OH44O844K/44Gu5Y+W5b6XIEdldA0KICAgICAgYXdhaXQgYXhpb3MuZ2V0KCB0aGlzLiRzdG9yZS5zdGF0ZS5ob3N0ICsgIi9hcGkvdjEvIiArIHRoaXMuJHN0b3JlLnN0YXRlLnN0b3JlZGF0YS5pZCArICIvc3RvcmVBZG1pbi9yZXNlcnZhdGlvbnMiKS50aGVuKChyZXNwb25zZSkgPT4ge3RoaXMucmVzZXJ2YXRpb25kYXRhID1yZXNwb25zZS5kYXRhLmRhdGF9KQ0KDQogICAgICAvL+ODh+ODvOOCv+OBruWPluW+l+OBjOWujOS6huOBl+OBn+OBk+OBqOOCkueiuuiqjeOBmeOCi+OBn+OCgeOBruOCueOCpOODg+ODgeOAguOBl+OBi+OBl+ePvueKtuOCqOODqeODvOWGheWuueOBq+OBquOCi+OBruOBp+S4gOaZguW+oemBuuW+sw0KICAgICAgdGhpcy5zeW5jPXRydWUNCiAgICB9LA0KICB9LA0KDQogICBjcmVhdGVkKCkgew0KICAgICBpZih0aGlzLiRzdG9yZS5zdGF0ZS51c2VyLnN0b3JlQWRtaW4gPT09IDEpew0KICAgICAgICB0aGlzLnJlc2VydmF0aW9uZGF0YWluKCk7DQogICAgIH0NCiAgICANCiAgfSwNCg0KfQ0K"},{"version":3,"sources":["StoreAdmin.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8EA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA","file":"StoreAdmin.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n  <div id=\"StoreAdmin\" v-if=\"sync || $store.state.user.storeAdmin === 1\">\r\n\r\n    <div class=\"header-icon flex\">\r\n      <HeaderIcon/>\r\n      <p @click=\"mypage\">マイページへ</p>\r\n    </div>\r\n\r\n    <div class=\"flex\">\r\n      <div class=\"left-storedata\">\r\n        <h1 class=\"store-top\">ストアの追加と更新</h1>\r\n        <div class=\"storedata\">\r\n          <div class=\"data\">\r\n            <th>店舗名:</th>\r\n            <td v-if=\"!storeAuth\" class=\"storedatas\">{{$store.state.storedata.name}}</td>\r\n            <td>\r\n              <input type=\"text\" v-if=\"storeAuth\" v-model=\"storedata.name\" />\r\n            </td>\r\n          </div>\r\n          <div class=\"data\">\r\n            <th>地域:</th>\r\n            <td v-if=\"!storeAuth\" class=\"storedatas\">{{$store.state.storedata.region}}</td>\r\n            <td>\r\n              <input type=\"text\" v-if=\"storeAuth\" v-model=\"storedata.region\" />\r\n            </td>\r\n          </div>\r\n          <div class=\"data\">\r\n            <th>ジャンル:</th>\r\n            <td v-if=\"!storeAuth\" class=\"storedatas\">{{$store.state.storedata.genre}}</td>\r\n            <td>\r\n              <input type=\"text\" v-if=\"storeAuth\" v-model=\"storedata.genre\" />\r\n            </td>\r\n          </div>\r\n          <div class=\"data\">\r\n            <th>店舗概要:</th>\r\n            <td v-if=\"!storeAuth\" class=\"storedatas\">{{$store.state.storedata.overview}}</td>\r\n            <td>\r\n              <textarea type=\"text\" v-if=\"storeAuth\" v-model=\"storedata.overview\" />\r\n            </td>\r\n          </div>\r\n          <div class=\"data flex\" v-if=\"storeAuth\">\r\n            <th>\r\n              <label for=\"imageIn\">ファイル選択:</label>\r\n            </th>\r\n            <form>\r\n              <input type=\"file\" id=\"imageIn\" ref=\"file\" name=\"imageIn\" accept=\"image/jpeg, image/png, image/jpg\" @change=\"onChangeImage\">\r\n            </form>\r\n          </div>\r\n          <div class=\"data\">\r\n            <th>店舗画像:</th>\r\n            <td v-if=\"storedata.image\">\r\n              <img v-if=\"!storeAuth\" :src=\"Storeimage(this.$store.state.storedata.image)\" width=\"200px\">\r\n              <img v-if=\"storeAuth\" :src=\"this.imagedata.image\" width=\"200px\">\r\n            </td>\r\n          </div>\r\n          <div class=\"flex\">\r\n            <button v-if=\"!storeAuth && !this.$store.state.user.storeAdmin_id\" @click=\"storeAuthOn\">店舗情報登録</button>\r\n            <button v-if=\"!storeAuth\" @click=\"storeAuthOn\">店舗情報更新</button>\r\n            <button v-if=\"storeAuth\" @click=\"storeAuthOff\">戻る</button>\r\n            <button v-if=\"storeAuth && !this.$store.state.user.storeAdmin_id\" @click=\"storeDataAdd\">登録</button>\r\n            <button v-if=\"storeAuth && this.$store.state.user.storeAdmin_id\" @click=\"storeDataUpdate\">更新</button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      \r\n      <div class=\"right-reservation\">\r\n        <h1 class=\"reservation-top\">店舗予約情報</h1>\r\n        <div class=\"reservationdata\">\r\n          <div class=\"reservation-store\" v-for=\"(reservation,index) in reservationdata\" :key=\"index\">\r\n            <Reservation :parentReservationdata=\"reservation\" :parentReservationStoredata=\"$store.state.storedata\" :parentIndex=\"index+1\" :parentSwitch=\"true\"/>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n/** Headerの会社ロゴのコンポーネント */\r\nimport HeaderIcon from '@/components/HeaderIcon.vue'\r\n\r\n/** 予約データ画像のコンポーネント */\r\nimport Reservation from '@/components/Reservation.vue'\r\n\r\nimport axios from \"axios\";\r\n\r\nexport default {\r\n\r\n  data(){\r\n    return{\r\n      storedata:{\r\n        name:this.$store.state.storedata.name,\r\n        region:this.$store.state.storedata.region,\r\n        genre:this.$store.state.storedata.genre,\r\n        overview:this.$store.state.storedata.overview,\r\n        image:this.$store.state.storedata.image\r\n      },\r\n      store:\"\",\r\n      storeAuth:false,\r\n      reservationdata:\"\",\r\n      sync:false,\r\n      image:\"\",\r\n      imagedata:{\r\n        image:\"\",\r\n        name:\"\",\r\n      }\r\n\r\n    }\r\n  },\r\n\r\n  components: {\r\n    HeaderIcon,\r\n    Reservation\r\n  },\r\n\r\n  methods: {\r\n\r\n    /** マイページに戻る */\r\n    mypage() {\r\n      this.$router.push(\"/mypage\");\r\n    },\r\n\r\n    /** 店舗登録か更新をする際の画面切り替え用 開く*/\r\n    storeAuthOn() {\r\n      this.storeAuth=true;\r\n    },\r\n\r\n    /** 店舗登録か更新をする際の画面切り替え用 閉じる*/\r\n    storeAuthOff() {\r\n      this.storeAuth=false;\r\n    },\r\n\r\n    /** DBから取ってきたパスから画像呼び出せるように溶接する関数。S3から取得*/\r\n    Storeimage(imgURL){\r\n      return `https://rase-enya.s3.ap-northeast-1.amazonaws.com/${imgURL}`\r\n    },\r\n\r\n    /**画像データが入った際に画像データを入れる*/\r\n    onChangeImage: function(event) {\r\n      const files = this.$refs.file;\r\n      const fileImg = files.files[0];\r\n      this.storedata.image = event.target.files[0];\r\n      if (fileImg.type.startsWith(\"image/\")) {\r\n        this.imagedata.image = window.URL.createObjectURL(fileImg);\r\n        this.imagedata.name = fileImg.name;\r\n        this.imagedata.type = fileImg.type;\r\n      }\r\n    },\r\n\r\n    /**ストアを作成する*/\r\n    async storeDataAdd(){\r\n\r\n      // 画像を送れるように型を作る\r\n      const imagedata = new FormData();\r\n      imagedata.append(\"image\", this.storedata.image);\r\n      const config = {headers: {'content-type': 'multipart/form-data'}}\r\n\r\n      // ストアデータの送信。ユーザーデータにストアIDを送る Post\r\n      await axios.post(this.$store.state.host + \"/api/v1/storeAdmin/stores\",{\r\n        name: this.storedata.name,\r\n        region: this.storedata.region,\r\n        genre: this.storedata.genre,\r\n        overview:this.storedata.overview,\r\n        email:this.$store.state.user.email\r\n      }).then((response) => {this.$store.commit('storedata',response.data.data[0]),this.$store.commit('user_store_id',response.data.storedata)});\r\n\r\n      // 画像データをS3に送信してパスをDBにいれる Post\r\n      await axios.post(this.$store.state.host + \"/api/v1/\" + this.$store.state.user.storeAdmin_store_id + \"/storeAdmin/stores/image\",imagedata,config).then((response) => {this.$store.commit('image',response.data.data)})\r\n\r\n      //データを入れられたらリロード\r\n      if(this.$store.state.user.storeAdmin_store_id){\r\n        this.storeAuth=false;\r\n        this.$router.go({path: this.$router.currentRoute.path, force: true})\r\n      }\r\n    },\r\n\r\n    /**ストアを更新する*/\r\n    async storeDataUpdate(){\r\n\r\n      // 画像を送れるように型を作る\r\n      const imagedata = new FormData();\r\n      imagedata.append(\"image\", this.storedata.image);\r\n      const config = {headers: {'content-type': 'multipart/form-data'}};\r\n\r\n      // ストアデータの更新 Put\r\n      await axios.put(this.$store.state.host + \"/api/v1/\" + this.$store.state.storedata.id + \"/storeAdmin/stores\",{\r\n        name: this.storedata.name,\r\n        region: this.storedata.region,\r\n        genre: this.storedata.genre,\r\n        overview:this.storedata.overview,\r\n      }).then((response) => {this.$store.commit('storedata',response.data.data[0]),this.storeAuth=false});\r\n\r\n      // 画像データをS3に送信してパスをDBにいれる Post\r\n      await axios.post(this.$store.state.host + \"/api/v1/\" + this.$store.state.user.storeAdmin_store_id + \"/storeAdmin/stores/image\",imagedata,config).then((response) => {this.$store.commit('image',response.data.data)})\r\n    },\r\n\r\n    async reservationdatain(){\r\n\r\n      //  予約データの取得 Get\r\n      await axios.get( this.$store.state.host + \"/api/v1/\" + this.$store.state.storedata.id + \"/storeAdmin/reservations\").then((response) => {this.reservationdata =response.data.data})\r\n\r\n      //データの取得が完了したことを確認するためのスイッチ。しかし現状エラー内容になるので一時御遺徳\r\n      this.sync=true\r\n    },\r\n  },\r\n\r\n   created() {\r\n     if(this.$store.state.user.storeAdmin === 1){\r\n        this.reservationdatain();\r\n     }\r\n    \r\n  },\r\n\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n\r\n\r\n\r\n#StoreAdmin{\r\n  background-color:rgb(206, 206, 206);\r\n  width:100%;\r\n}\r\n\r\n.flex {\r\n  display: flex;\r\n  flex-wrap :wrap;\r\n}\r\n\r\n.header-icon p{\r\n  margin-top:55px;\r\n  margin-left:60px;\r\n  font-size:18px;\r\n  cursor: pointer;\r\n  color:yellow;\r\n}\r\n\r\n.left-storedata{\r\n  display: table;\r\n  width:35%;\r\n  margin:80px auto;\r\n}\r\n\r\n.store-top{\r\n  padding-bottom:15px;\r\n  color:black;\r\n  border-bottom:2px solid black;\r\n}\r\n\r\n.storedata{\r\n  margin:40px 15px;\r\n}\r\n\r\n.data{\r\n  padding-bottom:15px;\r\n}\r\n\r\n.data th{\r\n  color:black;\r\n  width:110px;\r\n  text-align: left;\r\n  vertical-align:top;\r\n}\r\n\r\n\r\n.data label{\r\n  color:black;\r\n  font-size:16px;\r\n}\r\n\r\n.storedatas{\r\n  padding-left:20%;\r\n}\r\n\r\n.data td{\r\n  color:black;\r\n  width:40%;\r\n  text-align: left;\r\n}\r\n\r\n.data form{\r\n  color:black;\r\n  width:40%;\r\n  margin-left:60px;\r\n}\r\n\r\n.data input{\r\n  color:black;\r\n  vertical-align:top;\r\n}\r\n\r\n.data textarea{\r\n  color:black;\r\n  padding:10px 10px;\r\n  vertical-align:top;\r\n}\r\n\r\n.right-reservation{\r\n  width:40%;\r\n  margin:80px 0;\r\n  padding-right:60px;\r\n}\r\n\r\n.reservation-top{\r\n  padding-bottom:15px;\r\n  color:black;\r\n  border-bottom:2px solid black;\r\n}\r\n\r\n.reservationdata{\r\n  margin:40px 15px;\r\n}\r\n\r\n.reservation-store {\r\n  margin-bottom:30px;\r\n}\r\n\r\n\r\nbutton {\r\n  display: table;\r\n  width: 100px;\r\n  text-align: center;\r\n  padding: 8px 0 10px;\r\n  color: #fff;\r\n  background-color: #2f00ff;\r\n  border-radius: 25px;\r\n  cursor: pointer;\r\n  margin:60px auto 0;\r\n}\r\n\r\n</style>"]}]}