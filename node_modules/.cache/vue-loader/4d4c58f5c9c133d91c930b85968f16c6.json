{"remainingRequest":"C:\\Users\\ぱすー\\Desktop\\rase-vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\ぱすー\\Desktop\\rase-vue\\src\\views\\Admin.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\ぱすー\\Desktop\\rase-vue\\src\\views\\Admin.vue","mtime":1626565173734},{"path":"C:\\Users\\ぱすー\\Desktop\\rase-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\ぱすー\\Desktop\\rase-vue\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\ぱすー\\Desktop\\rase-vue\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\ぱすー\\Desktop\\rase-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\ぱすー\\Desktop\\rase-vue\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQovKiogSGVhZGVy44Gu5Lya56S+44Ot44K044Gu44Kz44Oz44Od44O844ON44Oz44OIICovDQppbXBvcnQgSGVhZGVySWNvbiBmcm9tICdAL2NvbXBvbmVudHMvSGVhZGVySWNvbi52dWUnDQoNCmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7DQoNCmV4cG9ydCBkZWZhdWx0IHsNCiAgDQogIGRhdGEoKXsNCiAgICByZXR1cm57DQogICAgICB1c2Vyc2RhdGE6IiIsDQogICAgICBzeW5jOmZhbHNlLA0KICAgIH0NCiAgfSwNCiAgY29tcG9uZW50czogew0KICAgIEhlYWRlckljb24NCiAgfSwNCiAgbWV0aG9kczogew0KDQogICAgLyoqIOODnuOCpOODmuODvOOCuOOBq+aIu+OCiyAqLw0KICAgIG15cGFnZSgpIHsNCiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCIvbXlwYWdlIik7DQogICAgfSwNCg0KICAgIC8qKiDjg6bjg7zjgrbjg7zjg4fjg7zjgr/jga7lj5blvpcgKi8NCiAgICB1c2VyZGF0YWluKCl7DQoNCiAgICAgIC8qKiDlhajjg6bjg7zjgrbjg7zjg4fjg7zjgr/jga7lj5blvpdhcGkgR2V0ICovDQogICAgICBheGlvcy5nZXQodGhpcy4kc3RvcmUuc3RhdGUuaG9zdCArICIvYXBpL3YxLyIgKyB0aGlzLiRzdG9yZS5zdGF0ZS51c2VyLmVtYWlsICsgIi91c2VycyIsew0KICAgICAgICBwYXJhbXM6ew0KICAgICAgICAgIHBhc3N3b3JkOnRoaXMuJHN0b3JlLnN0YXRlLnVzZXIucGFzc3dvcmQNCiAgICAgICAgfQ0KICAgICAgfSkudGhlbigocmVzcG9uc2UpID0+IHt0aGlzLnVzZXJzZGF0YSA9cmVzcG9uc2UuZGF0YS5kYXRhfSkNCg0KICAgICAgdGhpcy5zeW5jPXRydWUNCiAgICB9LA0KDQoNCiAgICAvKiog5bqX6IiX5Luj6KGo6ICF5qip6ZmQ44Gu5LuY5LiOICovDQogICAgU3RvcmVBZG1pbkdyYW50KHVzZXIpew0KDQogICAgICAvLyDlupfoiJfku6PooajogIXmqKnpmZDku5jkuI5hcGkgcHV0DQogICAgICBheGlvcy5wdXQodGhpcy4kc3RvcmUuc3RhdGUuaG9zdCArICIvYXBpL3YxL3N0b3JlQWRtaW5HcmFudC91c2VycyIsew0KICAgICAgICBuYW1lOiB1c2VyLm5hbWUsDQogICAgICAgIGVtYWlsOiB1c2VyLmVtYWlsLA0KICAgICAgICBwYXNzd29yZDogdXNlci5wYXNzd29yZA0KICAgICAgfSk7DQoNCiAgICAgIHRoaXMuJHJvdXRlci5nbyh7cGF0aDogdGhpcy4kcm91dGVyLmN1cnJlbnRSb3V0ZS5wYXRoLCBmb3JjZTogdHJ1ZX0pDQogICAgfSwNCg0KICAgIC8qKiDlupfoiJfku6PooajogIXmqKnpmZDjga7liYrpmaQgKi8NCiAgICBTdG9yZUFkbWluRGVsZXRlKHVzZXIpew0KDQogICAgICAvLyDlupfoiJfku6PooajogIXmqKnpmZDliYrpmaRhcGkgcHV0DQogICAgICBheGlvcy5wdXQodGhpcy4kc3RvcmUuc3RhdGUuaG9zdCArICIvYXBpL3YxL3N0b3JlQWRtaW5EZWxldGUvdXNlcnMiLHsNCiAgICAgICAgbmFtZTogdXNlci5uYW1lLA0KICAgICAgICBlbWFpbDogdXNlci5lbWFpbCwNCiAgICAgICAgcGFzc3dvcmQ6IHVzZXIucGFzc3dvcmQNCiAgICAgIH0pOw0KDQogICAgICB0aGlzLiRyb3V0ZXIuZ28oe3BhdGg6IHRoaXMuJHJvdXRlci5jdXJyZW50Um91dGUucGF0aCwgZm9yY2U6IHRydWV9KQ0KICAgIH0sDQoNCiAgICANCg0KDQogIH0sDQogIGNyZWF0ZWQoKSB7DQogICAgaWYodGhpcy4kc3RvcmUuc3RhdGUudXNlci5hZG1pbiA9PT0gMSl7DQogICAgICB0aGlzLnVzZXJkYXRhaW4oKTsNCiAgICB9DQogICAgDQogIH0sDQp9DQo="},{"version":3,"sources":["Admin.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+BA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;;;AAKA;AACA;AACA;AACA;AACA;;AAEA;AACA","file":"Admin.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n  <div id=\"admin\" v-if=\"$store.state.user.admin === 1\">\r\n    <div class=\"header-icon flex\">\r\n      <HeaderIcon/>\r\n      <p @click=\"mypage\">マイページへ</p>\r\n    </div>\r\n    <div class=\"box\">\r\n      <div class=\"flex top-users\">\r\n        <h1>ID:</h1>\r\n        <h1>ユーザー名：</h1>\r\n        <h1>メールアドレス：</h1>\r\n        <h1>店舗代表者権限の有無：</h1>\r\n        <h1>店舗代表者権限の付与</h1>\r\n      </div>\r\n      <div class=\"flex users\" v-for=\"(user,index) in usersdata\" :key=\"index\">\r\n        <h1>{{user.id}}</h1>\r\n        <h1>{{user.name}}</h1>\r\n        <h1>{{user.email}}</h1>\r\n        <h1 v-if=\"user.storeAdmin === 1\">有</h1>\r\n        <h1 v-if=\"!user.storeAdmin\">無し</h1>\r\n        <div class=\"storeAdmin\">\r\n          <button v-if=\"user.storeAdmin === 1\" @click=\"StoreAdminDelete(user)\">権限削除</button>\r\n          <button v-if=\"!user.storeAdmin\" @click=\"StoreAdminGrant(user)\">権限付与</button>\r\n        </div>\r\n        \r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n/** Headerの会社ロゴのコンポーネント */\r\nimport HeaderIcon from '@/components/HeaderIcon.vue'\r\n\r\nimport axios from \"axios\";\r\n\r\nexport default {\r\n  \r\n  data(){\r\n    return{\r\n      usersdata:\"\",\r\n      sync:false,\r\n    }\r\n  },\r\n  components: {\r\n    HeaderIcon\r\n  },\r\n  methods: {\r\n\r\n    /** マイページに戻る */\r\n    mypage() {\r\n      this.$router.push(\"/mypage\");\r\n    },\r\n\r\n    /** ユーザーデータの取得 */\r\n    userdatain(){\r\n\r\n      /** 全ユーザーデータの取得api Get */\r\n      axios.get(this.$store.state.host + \"/api/v1/\" + this.$store.state.user.email + \"/users\",{\r\n        params:{\r\n          password:this.$store.state.user.password\r\n        }\r\n      }).then((response) => {this.usersdata =response.data.data})\r\n\r\n      this.sync=true\r\n    },\r\n\r\n\r\n    /** 店舗代表者権限の付与 */\r\n    StoreAdminGrant(user){\r\n\r\n      // 店舗代表者権限付与api put\r\n      axios.put(this.$store.state.host + \"/api/v1/storeAdminGrant/users\",{\r\n        name: user.name,\r\n        email: user.email,\r\n        password: user.password\r\n      });\r\n\r\n      this.$router.go({path: this.$router.currentRoute.path, force: true})\r\n    },\r\n\r\n    /** 店舗代表者権限の削除 */\r\n    StoreAdminDelete(user){\r\n\r\n      // 店舗代表者権限削除api put\r\n      axios.put(this.$store.state.host + \"/api/v1/storeAdminDelete/users\",{\r\n        name: user.name,\r\n        email: user.email,\r\n        password: user.password\r\n      });\r\n\r\n      this.$router.go({path: this.$router.currentRoute.path, force: true})\r\n    },\r\n\r\n    \r\n\r\n\r\n  },\r\n  created() {\r\n    if(this.$store.state.user.admin === 1){\r\n      this.userdatain();\r\n    }\r\n    \r\n  },\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n\r\n\r\n\r\n#admin{\r\n  background-color:rgb(206, 206, 206);\r\n  width:100%;\r\n}\r\n\r\n.flex {\r\n  display: flex;\r\n}\r\n\r\n.header-icon p{\r\n  margin-top:55px;\r\n  margin-left:60px;\r\n  font-size:18px;\r\n  cursor: pointer;\r\n  color:yellow;\r\n}\r\n\r\n.box {\r\n  display: table;\r\n  margin:100px auto;\r\n  padding:20px 10px;\r\n  width:90%;\r\n  background-color: rgba(255, 255, 255, 0.774);\r\n  border-radius: 10px;\r\n  border:2px solid black;\r\n  box-shadow: 3px 3px 0 0 rgba(0, 34, 97, 0.5);\r\n}\r\n\r\n.box h1{\r\n  text-align: center;\r\n  color:black;\r\n}\r\n\r\n.top-users{\r\n  width:90%;\r\n  padding:10px 15px;\r\n  /* border-bottom:2px solid black; */\r\n}\r\n\r\n.users{\r\n  width:90%;\r\n  padding:0 15px;\r\n}\r\n\r\n.top-users h1{\r\n  width:20%;\r\n  padding:10px 15px;\r\n  border-bottom:2px solid black;\r\n  border-right:2px solid rgb(216, 216, 216);\r\n}\r\n\r\n.users h1{\r\n  width:20%;\r\n  padding:20px 15px 10px;\r\n  font-size:10px;\r\n  border-bottom:2px solid rgb(189, 189, 189);\r\n  border-right:2px solid rgb(184, 182, 182);\r\n}\r\n\r\n.storeAdmin{\r\n  width:20%;\r\n  padding:10px 15px;\r\n  border-bottom:2px solid black;\r\n  border-right:2px solid rgb(216, 216, 216);\r\n}\r\n\r\nbutton {\r\n  display: table;\r\n  width: 120px;\r\n  text-align: center;\r\n  padding: 2px 0 3px;\r\n  color: #fff;\r\n  background-color: #2f00ff;\r\n  border-radius: 25px;\r\n  cursor: pointer;\r\n  margin:0 auto;\r\n}\r\n\r\n</style>"]}]}