{"remainingRequest":"/workspaces/rase-vue/node_modules/vue-loader/lib/index.js??vue-loader-options!/workspaces/rase-vue/src/views/StoreDetail.vue?vue&type=style&index=0&id=b65347a4&scoped=true&lang=css&","dependencies":[{"path":"/workspaces/rase-vue/src/views/StoreDetail.vue","mtime":1625134458548},{"path":"/workspaces/rase-vue/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/workspaces/rase-vue/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/workspaces/rase-vue/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/workspaces/rase-vue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/workspaces/rase-vue/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKDQoNCi5zdG9yZWRldGFpbHsNCiAgYmFja2dyb3VuZC1jb2xvcjpyZ2IoMjE2LCAyMTYsIDIxNik7DQogIGhlaWdodDoxMDB2aDsNCiAgd2lkdGg6MTAwJTsNCn0NCg0KLkljb257DQogIHBvc2l0aW9uOiBhYnNvbHV0ZTsNCn0NCg0KLmZsZXggew0KICBkaXNwbGF5OiBmbGV4Ow0KfQ0KDQouc3RvcmVkYXRhew0KICB3aWR0aDo0NSU7DQogIG1hcmdpbjoxNTBweCAzMHB4IDA7DQp9DQoNCi5zdG9yZS1pbWd7DQogIHdpZHRoOjk1JTsNCn0NCg0KLnN0b3JlLXRvcHsNCiAgbWFyZ2luLWJvdHRvbToxNXB4Ow0KfQ0KDQouc3RvcmUtdG9wIGgxew0KICBmb250LXNpemU6MjhweDsNCiAgbWFyZ2luOjE4cHggMCAwIDEwcHg7DQogIGNvbG9yOnJnYigwLCAwLCAwKTsNCn0NCg0KLnN0b3JlLXRhZ3sNCiAgY29sb3I6YmxhY2s7DQogIG1hcmdpbjozMHB4IDA7DQp9DQoNCi5zdG9yZS1jb250YWN0ew0KICBjb2xvcjpibGFjazsNCiAgd2lkdGg6OTUlOw0KfQ0KDQoucmVzZXJ2YXRpb257DQogIGhlaWdodDo5MHZoOw0KICB3aWR0aDo0NSU7DQogIGJhY2tncm91bmQtY29sb3I6IHJnYigwLCAxMDYsIDI0NSk7DQogIGJvcmRlci1yYWRpdXM6IDEwcHg7DQogIGJveC1zaGFkb3c6IDNweCAzcHggMCAwIHJnYmEoMCwgMzQsIDk3LCAwLjUpOw0KICBtYXJnaW4tdG9wOjUwcHg7DQp9DQoNCi5yZXNlcnZhdGlvbiBoMXsNCiAgZm9udC1zaXplOjI4cHg7DQogIG1hcmdpbjozMHB4Ow0KfQ0KDQoucmVzZXJ2YXRpb24gaW5wdXR7DQogIGRpc3BsYXk6YmxvY2s7DQogIGJvcmRlci1yYWRpdXM6IDVweDsNCiAgbWFyZ2luOjE1cHggMzBweDsNCiAgY29sb3I6YmxhY2s7DQp9DQoNCi5sb25nLWlucHV0ew0KICB3aWR0aDo4MCU7DQp9DQoNCi5yZXNlcnZhdGlvbi1kYXRhew0KICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2IoOTQsIDE0MiwgMjQ1KTsNCiAgd2lkdGg6ODAlOw0KICBtYXJnaW46MCAzMHB4Ow0KICBib3JkZXItcmFkaXVzOiA1cHg7DQp9DQoNCi5kYXRhew0KICBwYWRkaW5nOjMwcHg7DQp9DQoNCi5kYXRhIHRoew0KICB3aWR0aDoxOTBweDsNCiAgcGFkZGluZy1ib3R0b206MTVweDsNCiAgdGV4dC1hbGlnbjogbGVmdDsNCn0NCg0KLmVycm9yIHRoew0KICB3aWR0aDoxOTBweDsNCiAgcGFkZGluZy1ib3R0b206MTVweDsNCiAgdGV4dC1hbGlnbjogbGVmdDsNCiAgY29sb3I6cmVkOw0KfQ0KDQoNCg0KLnJlc2VydmF0aW9uLWJ1dHRvbnsNCiAgcG9zaXRpb246IGFic29sdXRlOw0KICB3aWR0aDo0NSU7DQogIGhlaWdodDo2MHB4Ow0KICBib3R0b206IDMwcHg7DQogIGJvcmRlci1yYWRpdXM6IDVweDsNCiAgYmFja2dyb3VuZC1jb2xvcjogcmdiKDAsIDc1LCAyMzgpOw0KfQ0KDQoucmVzZXJ2YXRpb24tYnV0dG9uIHB7DQogIGZvbnQtc2l6ZToyOHB4Ow0KICB0ZXh0LWFsaWduOiBjZW50ZXI7DQogIGxpbmUtaGVpZ2h0OjYwcHg7DQogIGN1cnNvcjogcG9pbnRlcjsNCn0NCg0K"},{"version":3,"sources":["StoreDetail.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwJA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA","file":"StoreDetail.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n  <div class=\"storedetail\">\r\n\r\n    <HeaderIcon class=\"Icon\"/>\r\n\r\n    <div class=\"flex\">\r\n\r\n      <div class=\"storedata\">\r\n        <div class=\"store-top flex\">\r\n          <img src=\"../assets/next.png\" style=\"transform: scale(-1, 1);\" @click=\"back\">\r\n          <h1>{{this.storedata.name}}</h1>\r\n        </div>\r\n        <img class=\"store-img\" :src=\"Storeimage(this.storedata.image)\">\r\n        <p class=\"store-tag\">\r\n          #{{this.storedata.region}} #{{this.storedata.genre}}\r\n        </p>\r\n        <p class=\"store-contact\">\r\n          {{this.storedata.overview}}\r\n        </p>\r\n      </div>\r\n\r\n\r\n\r\n      <div class=\"reservation\">\r\n        <h1>予約</h1>\r\n        <input type=\"date\" v-model=\"reservationData.date\" />\r\n        <input class = \"long-input\" type=\"time\" v-model=\"reservationData.time\" />\r\n        <input class = \"long-input\" type=\"number\" v-model=\"reservationData.number\" />\r\n        <div class=\"reservation-data\">\r\n          <div class=\"data\">\r\n            <tr>\r\n              <th>Shop</th>\r\n              <td>{{this.storedata.name}}</td>\r\n            </tr>\r\n            <tr>\r\n              <th>Date</th>\r\n              <td>{{this.reservationData.date}}</td>\r\n            </tr>\r\n            <tr>\r\n              <th>Time</th>\r\n              <td>{{this.reservationData.time}}</td>\r\n            </tr>\r\n            <tr>\r\n              <th>Number</th>\r\n              <td>{{this.reservationData.number}}人</td>\r\n            </tr>\r\n            <tr v-if=\"this.errordata.Error\" class=\"error\">\r\n              <th>エラーが発生しました</th>\r\n              <td>{{this.errordata.message}}</td>\r\n            </tr>\r\n            <tr v-if=\"this.errordata.Error\" class=\"error\">\r\n              <th>エラー部分:</th>\r\n              <td>{{this.errordata.data}}</td>\r\n            </tr>\r\n          </div>\r\n        </div>\r\n        <div class=\"reservation-button\" @click=\"reservation\">\r\n          <p>予約する</p>\r\n        </div>\r\n      </div>\r\n      \r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n/** Headerの会社ロゴのコンポーネント */\r\nimport HeaderIcon from '@/components/HeaderIcon.vue'\r\n\r\nimport axios from \"axios\";\r\n\r\n\r\n\r\nexport default {\r\n  \r\n  data(){\r\n    return{\r\n\r\n      reservationData:{\r\n        date:\"\",\r\n        time:\"\",\r\n        number:null,\r\n\r\n      },\r\n\r\n      errordata:\"\",\r\n\r\n      day:\"\",\r\n\r\n      storedata:\"\"\r\n\r\n    }\r\n  },\r\n  methods:{\r\n  \r\n    /** ストアの詳細データを取得 */\r\n    storedatain(){\r\n      axios.get(this.$store.state.host  + \"/api/v1/\" + this.$route.params.id + \"/stores\").then((response) => {this.storedata =response.data.data[0]})\r\n\r\n    },\r\n\r\n    /** 企業一覧ページに戻る */\r\n    back(){\r\n      this.$router.push({\r\n        name: 'StoreList'\r\n      })\r\n    },\r\n\r\n    /** 動的にrequireを機能させるための関数*/\r\n    Storeimage(imgURL){\r\n      return require(`../../public/store/${imgURL}`)\r\n    },\r\n\r\n    /** 予約完了ページに戻る */\r\n    async reservation(){\r\n\r\n      const day = this.reservationData.date + \" \" + this.reservationData.time + \":00\";\r\n\r\n      const QRdata = \"店舗名:\" + this.storedata.name + \" 予約日:\" + this.reservationData.date + \" 予約時間:\" + this.reservationData.time + \" 予約人数:\" + this.reservationData.number;\r\n\r\n      await axios.put(this.$store.state.host + \"/api/v1/\" + this.$route.params.id + \"/reservations\",{\r\n        user_id: this.$store.state.user.id,\r\n        day: day,\r\n        QRdata: QRdata,\r\n        number:this.reservationData.number\r\n      }).then((response) => {this.errordata =response.data});\r\n\r\n      \r\n\r\n      if(!this.errordata.Error){\r\n        this.$router.push({\r\n        name: 'ReservationCompletion', params:{QRdata}\r\n        })\r\n      }\r\n\r\n    },\r\n\r\n  },\r\n  \r\n  components: {\r\n    HeaderIcon\r\n  },\r\n\r\n  created() {\r\n    this.storedatain();\r\n  },\r\n\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n.storedetail{\r\n  background-color:rgb(216, 216, 216);\r\n  height:100vh;\r\n  width:100%;\r\n}\r\n\r\n.Icon{\r\n  position: absolute;\r\n}\r\n\r\n.flex {\r\n  display: flex;\r\n}\r\n\r\n.storedata{\r\n  width:45%;\r\n  margin:150px 30px 0;\r\n}\r\n\r\n.store-img{\r\n  width:95%;\r\n}\r\n\r\n.store-top{\r\n  margin-bottom:15px;\r\n}\r\n\r\n.store-top h1{\r\n  font-size:28px;\r\n  margin:18px 0 0 10px;\r\n  color:rgb(0, 0, 0);\r\n}\r\n\r\n.store-tag{\r\n  color:black;\r\n  margin:30px 0;\r\n}\r\n\r\n.store-contact{\r\n  color:black;\r\n  width:95%;\r\n}\r\n\r\n.reservation{\r\n  height:90vh;\r\n  width:45%;\r\n  background-color: rgb(0, 106, 245);\r\n  border-radius: 10px;\r\n  box-shadow: 3px 3px 0 0 rgba(0, 34, 97, 0.5);\r\n  margin-top:50px;\r\n}\r\n\r\n.reservation h1{\r\n  font-size:28px;\r\n  margin:30px;\r\n}\r\n\r\n.reservation input{\r\n  display:block;\r\n  border-radius: 5px;\r\n  margin:15px 30px;\r\n  color:black;\r\n}\r\n\r\n.long-input{\r\n  width:80%;\r\n}\r\n\r\n.reservation-data{\r\n  background-color: rgb(94, 142, 245);\r\n  width:80%;\r\n  margin:0 30px;\r\n  border-radius: 5px;\r\n}\r\n\r\n.data{\r\n  padding:30px;\r\n}\r\n\r\n.data th{\r\n  width:190px;\r\n  padding-bottom:15px;\r\n  text-align: left;\r\n}\r\n\r\n.error th{\r\n  width:190px;\r\n  padding-bottom:15px;\r\n  text-align: left;\r\n  color:red;\r\n}\r\n\r\n\r\n\r\n.reservation-button{\r\n  position: absolute;\r\n  width:45%;\r\n  height:60px;\r\n  bottom: 30px;\r\n  border-radius: 5px;\r\n  background-color: rgb(0, 75, 238);\r\n}\r\n\r\n.reservation-button p{\r\n  font-size:28px;\r\n  text-align: center;\r\n  line-height:60px;\r\n  cursor: pointer;\r\n}\r\n\r\n</style>"]}]}