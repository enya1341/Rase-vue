{"remainingRequest":"C:\\Users\\ぱすー\\Desktop\\rase-vue\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\ぱすー\\Desktop\\rase-vue\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\ぱすー\\Desktop\\rase-vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\ぱすー\\Desktop\\rase-vue\\src\\views\\StoreDetail.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\ぱすー\\Desktop\\rase-vue\\src\\views\\StoreDetail.vue","mtime":1626563991112},{"path":"C:\\Users\\ぱすー\\Desktop\\rase-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\ぱすー\\Desktop\\rase-vue\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\ぱすー\\Desktop\\rase-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\ぱすー\\Desktop\\rase-vue\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkM6L1VzZXJzL1x1MzA3MVx1MzA1OVx1MzBGQy9EZXNrdG9wL3Jhc2UtdnVlL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lLmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCi8qKiBIZWFkZXLjga7kvJrnpL7jg63jgrTjga7jgrPjg7Pjg53jg7zjg43jg7Pjg4ggKi8KaW1wb3J0IEhlYWRlckljb24gZnJvbSAnQC9jb21wb25lbnRzL0hlYWRlckljb24udnVlJzsKaW1wb3J0IGF4aW9zIGZyb20gImF4aW9zIjsKZXhwb3J0IGRlZmF1bHQgewogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICByZXNlcnZhdGlvbkRhdGE6IHsKICAgICAgICBkYXRlOiAiIiwKICAgICAgICB0aW1lOiAiIiwKICAgICAgICBudW1iZXI6IG51bGwKICAgICAgfSwKICAgICAgZXJyb3JkYXRhOiAiIiwKICAgICAgZGF5OiAiIiwKICAgICAgc3RvcmVkYXRhOiAiIgogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIC8qKiDjgrnjg4jjgqLjga7oqbPntLDjg4fjg7zjgr/jgpLlj5blvpcgKi8KICAgIHN0b3JlZGF0YWluOiBmdW5jdGlvbiBzdG9yZWRhdGFpbigpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIC8v5bqX6IiX6Kmz57Sw44OH44O844K/5Y+W5b6XYXBpIGdldAogICAgICBheGlvcy5nZXQodGhpcy4kc3RvcmUuc3RhdGUuaG9zdCArICIvYXBpL3YxLyIgKyB0aGlzLiRyb3V0ZS5wYXJhbXMuaWQgKyAiL3N0b3JlcyIpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgX3RoaXMuc3RvcmVkYXRhID0gcmVzcG9uc2UuZGF0YS5kYXRhWzBdOwogICAgICB9KTsKICAgIH0sCgogICAgLyoqIOOCueODiOOCouS4gOimp+ODmuODvOOCuOOBq+aIu+OCiyAqLwogICAgYmFjazogZnVuY3Rpb24gYmFjaygpIHsKICAgICAgdGhpcy4kcm91dGVyLnB1c2goewogICAgICAgIG5hbWU6ICdTdG9yZUxpc3QnCiAgICAgIH0pOwogICAgfSwKCiAgICAvKiogRELjgYvjgonlj5bjgaPjgabjgY3jgZ/jg5HjgrnjgYvjgonnlLvlg4/jgpLlkbzjgbPlh7rjgZvjgovjgojjgYbjgavmurbmjqXjgZnjgovplqLmlbDjgIJTM+OBi+OCieWPluW+lyovCiAgICBTdG9yZWltYWdlOiBmdW5jdGlvbiBTdG9yZWltYWdlKGltZ1VSTCkgewogICAgICByZXR1cm4gImh0dHBzOi8vcmFzZS1lbnlhLnMzLmFwLW5vcnRoZWFzdC0xLmFtYXpvbmF3cy5jb20vIi5jb25jYXQoaW1nVVJMKTsKICAgIH0sCgogICAgLyoqIOS6iOe0hOOCkueZu+mMsuOBmeOCiyAqLwogICAgcmVzZXJ2YXRpb246IGZ1bmN0aW9uIHJlc2VydmF0aW9uKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgdmFyIGRheSwgUVJkYXRhOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGRheSA9IF90aGlzMi5yZXNlcnZhdGlvbkRhdGEuZGF0ZSArICIgIiArIF90aGlzMi5yZXNlcnZhdGlvbkRhdGEudGltZSArICI6MDAiOwogICAgICAgICAgICAgICAgUVJkYXRhID0gInVzZXJfSUQ6IiArIF90aGlzMi4kc3RvcmUuc3RhdGUudXNlci5pZCArICLlupfoiJflkI06IiArIF90aGlzMi5zdG9yZWRhdGEubmFtZSArICIg5LqI57SE5pelOiIgKyBfdGhpczIucmVzZXJ2YXRpb25EYXRhLmRhdGUgKyAiIOS6iOe0hOaZgumWkzoiICsgX3RoaXMyLnJlc2VydmF0aW9uRGF0YS50aW1lICsgIiDkuojntITkurrmlbA6IiArIF90aGlzMi5yZXNlcnZhdGlvbkRhdGEubnVtYmVyOyAvL+S6iOe0hOeZu+mMsmFwaSBQb3N0CgogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDQ7CiAgICAgICAgICAgICAgICByZXR1cm4gYXhpb3MucG9zdChfdGhpczIuJHN0b3JlLnN0YXRlLmhvc3QgKyAiL2FwaS92MS8iICsgX3RoaXMyLiRyb3V0ZS5wYXJhbXMuaWQgKyAiL3Jlc2VydmF0aW9ucyIsIHsKICAgICAgICAgICAgICAgICAgdXNlcl9pZDogX3RoaXMyLiRzdG9yZS5zdGF0ZS51c2VyLmlkLAogICAgICAgICAgICAgICAgICBkYXk6IGRheSwKICAgICAgICAgICAgICAgICAgUVJkYXRhOiBRUmRhdGEsCiAgICAgICAgICAgICAgICAgIG51bWJlcjogX3RoaXMyLnJlc2VydmF0aW9uRGF0YS5udW1iZXIKICAgICAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzMi5lcnJvcmRhdGEgPSByZXNwb25zZS5kYXRhOwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICAgIGlmICghX3RoaXMyLmVycm9yZGF0YS5FcnJvcikgewogICAgICAgICAgICAgICAgICBfdGhpczIuJHJvdXRlci5wdXNoKHsKICAgICAgICAgICAgICAgICAgICBuYW1lOiAnUmVzZXJ2YXRpb25Db21wbGV0aW9uJywKICAgICAgICAgICAgICAgICAgICBwYXJhbXM6IHsKICAgICAgICAgICAgICAgICAgICAgIFFSZGF0YTogUVJkYXRhCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgIH0pKSgpOwogICAgfQogIH0sCiAgY29tcG9uZW50czogewogICAgSGVhZGVySWNvbjogSGVhZGVySWNvbgogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHRoaXMuc3RvcmVkYXRhaW4oKTsKICB9Cn07"},{"version":3,"sources":["StoreDetail.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkEA;AACA,OAAA,UAAA,MAAA,6BAAA;AAEA,OAAA,KAAA,MAAA,OAAA;AAIA,eAAA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AAEA,MAAA,eAAA,EAAA;AACA,QAAA,IAAA,EAAA,EADA;AAEA,QAAA,IAAA,EAAA,EAFA;AAGA,QAAA,MAAA,EAAA;AAHA,OAFA;AASA,MAAA,SAAA,EAAA,EATA;AAWA,MAAA,GAAA,EAAA,EAXA;AAaA,MAAA,SAAA,EAAA;AAbA,KAAA;AAgBA,GAnBA;AAoBA,EAAA,OAAA,EAAA;AAEA;AACA,IAAA,WAHA,yBAGA;AAAA;;AACA;AACA,MAAA,KAAA,CAAA,GAAA,CAAA,KAAA,MAAA,CAAA,KAAA,CAAA,IAAA,GAAA,UAAA,GAAA,KAAA,MAAA,CAAA,MAAA,CAAA,EAAA,GAAA,SAAA,EAAA,IAAA,CAAA,UAAA,QAAA,EAAA;AAAA,QAAA,KAAA,CAAA,SAAA,GAAA,QAAA,CAAA,IAAA,CAAA,IAAA,CAAA,CAAA,CAAA;AAAA,OAAA;AACA,KANA;;AAQA;AACA,IAAA,IATA,kBASA;AACA,WAAA,OAAA,CAAA,IAAA,CAAA;AACA,QAAA,IAAA,EAAA;AADA,OAAA;AAGA,KAbA;;AAeA;AACA,IAAA,UAhBA,sBAgBA,MAhBA,EAgBA;AACA,yEAAA,MAAA;AACA,KAlBA;;AAoBA;AACA,IAAA,WArBA,yBAqBA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA,gBAAA,GAFA,GAEA,MAAA,CAAA,eAAA,CAAA,IAAA,GAAA,GAAA,GAAA,MAAA,CAAA,eAAA,CAAA,IAAA,GAAA,KAFA;AAIA,gBAAA,MAJA,GAIA,aAAA,MAAA,CAAA,MAAA,CAAA,KAAA,CAAA,IAAA,CAAA,EAAA,GAAA,MAAA,GAAA,MAAA,CAAA,SAAA,CAAA,IAAA,GAAA,OAAA,GAAA,MAAA,CAAA,eAAA,CAAA,IAAA,GAAA,QAAA,GAAA,MAAA,CAAA,eAAA,CAAA,IAAA,GAAA,QAAA,GAAA,MAAA,CAAA,eAAA,CAAA,MAJA,EAMA;;AANA;AAAA,uBAOA,KAAA,CAAA,IAAA,CAAA,MAAA,CAAA,MAAA,CAAA,KAAA,CAAA,IAAA,GAAA,UAAA,GAAA,MAAA,CAAA,MAAA,CAAA,MAAA,CAAA,EAAA,GAAA,eAAA,EAAA;AACA,kBAAA,OAAA,EAAA,MAAA,CAAA,MAAA,CAAA,KAAA,CAAA,IAAA,CAAA,EADA;AAEA,kBAAA,GAAA,EAAA,GAFA;AAGA,kBAAA,MAAA,EAAA,MAHA;AAIA,kBAAA,MAAA,EAAA,MAAA,CAAA,eAAA,CAAA;AAJA,iBAAA,EAKA,IALA,CAKA,UAAA,QAAA,EAAA;AAAA,kBAAA,MAAA,CAAA,SAAA,GAAA,QAAA,CAAA,IAAA;AAAA,iBALA,CAPA;;AAAA;AAgBA,oBAAA,CAAA,MAAA,CAAA,SAAA,CAAA,KAAA,EAAA;AACA,kBAAA,MAAA,CAAA,OAAA,CAAA,IAAA,CAAA;AACA,oBAAA,IAAA,EAAA,uBADA;AACA,oBAAA,MAAA,EAAA;AAAA,sBAAA,MAAA,EAAA;AAAA;AADA,mBAAA;AAGA;;AApBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAsBA;AA3CA,GApBA;AAmEA,EAAA,UAAA,EAAA;AACA,IAAA,UAAA,EAAA;AADA,GAnEA;AAuEA,EAAA,OAvEA,qBAuEA;AACA,SAAA,WAAA;AACA;AAzEA,CAAA","sourcesContent":["<template>\r\n  <div class=\"storedetail\">\r\n\r\n    <HeaderIcon class=\"Icon\"/>\r\n\r\n    <div class=\"flex\">\r\n\r\n      <div class=\"storedata\">\r\n        <div class=\"store-top flex\">\r\n          <img src=\"../assets/next.png\" style=\"transform: scale(-1, 1);\" @click=\"back\">\r\n          <h1>{{this.storedata.name}}</h1>\r\n        </div>\r\n        <img class=\"store-img\" :src=\"Storeimage(this.storedata.image)\">\r\n        <p class=\"store-tag\">\r\n          #{{this.storedata.region}} #{{this.storedata.genre}}\r\n        </p>\r\n        <p class=\"store-contact\">\r\n          {{this.storedata.overview}}\r\n        </p>\r\n      </div>\r\n\r\n\r\n\r\n      <div class=\"reservation\">\r\n        <h1>予約</h1>\r\n        <input type=\"date\" v-model=\"reservationData.date\" />\r\n        <input class = \"long-input\" type=\"time\" v-model=\"reservationData.time\" />\r\n        <input class = \"long-input\" type=\"number\" v-model=\"reservationData.number\" />\r\n        <div class=\"reservation-data\">\r\n          <div class=\"data\">\r\n            <tr>\r\n              <th>Shop</th>\r\n              <td>{{this.storedata.name}}</td>\r\n            </tr>\r\n            <tr>\r\n              <th>Date</th>\r\n              <td>{{this.reservationData.date}}</td>\r\n            </tr>\r\n            <tr>\r\n              <th>Time</th>\r\n              <td>{{this.reservationData.time}}</td>\r\n            </tr>\r\n            <tr>\r\n              <th>Number</th>\r\n              <td>{{this.reservationData.number}}人</td>\r\n            </tr>\r\n            <tr v-if=\"this.errordata.Error\" class=\"error\">\r\n              <th>エラーが発生しました</th>\r\n              <td>{{this.errordata.message}}</td>\r\n            </tr>\r\n            <tr v-if=\"this.errordata.Error\" class=\"error\">\r\n              <th>エラー部分:</th>\r\n              <td>{{this.errordata.data}}</td>\r\n            </tr>\r\n          </div>\r\n        </div>\r\n        <div class=\"reservation-button\" @click=\"reservation\">\r\n          <p>予約する</p>\r\n        </div>\r\n      </div>\r\n      \r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n/** Headerの会社ロゴのコンポーネント */\r\nimport HeaderIcon from '@/components/HeaderIcon.vue'\r\n\r\nimport axios from \"axios\";\r\n\r\n\r\n\r\nexport default {\r\n  \r\n  data(){\r\n    return{\r\n\r\n      reservationData:{\r\n        date:\"\",\r\n        time:\"\",\r\n        number:null,\r\n\r\n      },\r\n\r\n      errordata:\"\",\r\n\r\n      day:\"\",\r\n\r\n      storedata:\"\"\r\n\r\n    }\r\n  },\r\n  methods:{\r\n  \r\n    /** ストアの詳細データを取得 */\r\n    storedatain(){\r\n      //店舗詳細データ取得api get\r\n      axios.get(this.$store.state.host  + \"/api/v1/\" + this.$route.params.id + \"/stores\").then((response) => {this.storedata =response.data.data[0]})\r\n    },\r\n\r\n    /** ストア一覧ページに戻る */\r\n    back(){\r\n      this.$router.push({\r\n        name: 'StoreList'\r\n      })\r\n    },\r\n\r\n    /** DBから取ってきたパスから画像を呼び出せるように溶接する関数。S3から取得*/\r\n    Storeimage(imgURL){\r\n      return `https://rase-enya.s3.ap-northeast-1.amazonaws.com/${imgURL}`\r\n    },\r\n\r\n    /** 予約を登録する */\r\n    async reservation(){\r\n\r\n      const day = this.reservationData.date + \" \" + this.reservationData.time + \":00\";\r\n\r\n      const QRdata = \"user_ID:\" + this.$store.state.user.id + \"店舗名:\" + this.storedata.name + \" 予約日:\" + this.reservationData.date + \" 予約時間:\" + this.reservationData.time + \" 予約人数:\" + this.reservationData.number;\r\n\r\n      //予約登録api Post\r\n      await axios.post(this.$store.state.host + \"/api/v1/\" + this.$route.params.id + \"/reservations\",{\r\n        user_id: this.$store.state.user.id,\r\n        day: day,\r\n        QRdata: QRdata,\r\n        number:this.reservationData.number\r\n      }).then((response) => {this.errordata =response.data});\r\n\r\n      \r\n\r\n      if(!this.errordata.Error){\r\n        this.$router.push({\r\n        name: 'ReservationCompletion', params:{QRdata}\r\n        })\r\n      }\r\n\r\n    },\r\n\r\n  },\r\n  \r\n  components: {\r\n    HeaderIcon\r\n  },\r\n\r\n  created() {\r\n    this.storedatain();\r\n  },\r\n\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n.storedetail{\r\n  background-color:rgb(216, 216, 216);\r\n  height:100vh;\r\n  width:100%;\r\n}\r\n\r\n.Icon{\r\n  position: absolute;\r\n}\r\n\r\n.flex {\r\n  display: flex;\r\n}\r\n\r\n.storedata{\r\n  width:45%;\r\n  margin:150px 30px 0;\r\n}\r\n\r\n.store-img{\r\n  width:95%;\r\n}\r\n\r\n.store-top{\r\n  margin-bottom:15px;\r\n}\r\n\r\n.store-top h1{\r\n  font-size:28px;\r\n  margin:18px 0 0 10px;\r\n  color:rgb(0, 0, 0);\r\n}\r\n\r\n.store-tag{\r\n  color:black;\r\n  margin:30px 0;\r\n}\r\n\r\n.store-contact{\r\n  color:black;\r\n  width:95%;\r\n}\r\n\r\n.reservation{\r\n  height:90vh;\r\n  width:45%;\r\n  background-color: rgb(0, 106, 245);\r\n  border-radius: 10px;\r\n  box-shadow: 3px 3px 0 0 rgba(0, 34, 97, 0.5);\r\n  margin-top:50px;\r\n}\r\n\r\n.reservation h1{\r\n  font-size:28px;\r\n  margin:30px;\r\n}\r\n\r\n.reservation input{\r\n  display:block;\r\n  border-radius: 5px;\r\n  margin:15px 30px;\r\n  color:black;\r\n}\r\n\r\n.long-input{\r\n  width:80%;\r\n}\r\n\r\n.reservation-data{\r\n  background-color: rgb(94, 142, 245);\r\n  width:80%;\r\n  margin:0 30px;\r\n  border-radius: 5px;\r\n}\r\n\r\n.data{\r\n  padding:30px;\r\n}\r\n\r\n.data th{\r\n  width:190px;\r\n  padding-bottom:15px;\r\n  text-align: left;\r\n}\r\n\r\n.error th{\r\n  width:190px;\r\n  padding-bottom:15px;\r\n  text-align: left;\r\n  color:red;\r\n}\r\n\r\n\r\n\r\n.reservation-button{\r\n  position: absolute;\r\n  width:45%;\r\n  height:60px;\r\n  bottom: 30px;\r\n  border-radius: 5px;\r\n  background-color: rgb(0, 75, 238);\r\n}\r\n\r\n.reservation-button p{\r\n  font-size:28px;\r\n  text-align: center;\r\n  line-height:60px;\r\n  cursor: pointer;\r\n}\r\n\r\n</style>"],"sourceRoot":"src/views"}]}