{"remainingRequest":"C:\\Users\\ぱすー\\Desktop\\rase-vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\ぱすー\\Desktop\\rase-vue\\src\\views\\MyPage.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\ぱすー\\Desktop\\rase-vue\\src\\views\\MyPage.vue","mtime":1626565222620},{"path":"C:\\Users\\ぱすー\\Desktop\\rase-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\ぱすー\\Desktop\\rase-vue\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\ぱすー\\Desktop\\rase-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\ぱすー\\Desktop\\rase-vue\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQovKiogSGVhZGVy44Gu5Lya56S+44Ot44K044Gu44Kz44Oz44Od44O844ON44Oz44OIICovDQppbXBvcnQgSGVhZGVySWNvbiBmcm9tICdAL2NvbXBvbmVudHMvSGVhZGVySWNvbi52dWUnDQoNCi8qKiBzdG9yZeODh+ODvOOCv+eUu+WDj+OBruOCs+ODs+ODneODvOODjeODs+ODiCAqLw0KaW1wb3J0IFN0b3JlIGZyb20gJ0AvY29tcG9uZW50cy9TdG9yZS52dWUnDQoNCi8qKiDkuojntITjg4fjg7zjgr/nlLvlg4/jga7jgrPjg7Pjg53jg7zjg43jg7Pjg4ggKi8NCmltcG9ydCBSZXNlcnZhdGlvbiBmcm9tICdAL2NvbXBvbmVudHMvUmVzZXJ2YXRpb24udnVlJw0KDQoNCmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7DQoNCmV4cG9ydCBkZWZhdWx0IHsNCiAgZGF0YSgpew0KICAgIHJldHVybnsNCiAgICAgIHN0b3JlZGF0YTpbXSwNCiAgICAgIGZhdm9yaXRlZGF0YTpbXSwNCiAgICAgIHJlc2VydmF0aW9uZGF0YToiIiwNCiAgICAgIHJlc2VydmF0aW9uU3RvcmVkYXRhOltdLA0KICAgICAgc3luYzpmYWxzZSwNCiAgICAgIHN5bmMyOmZhbHNlLA0KICAgIH0NCiAgfSwNCg0KICBjb21wb25lbnRzOiB7DQogICAgSGVhZGVySWNvbiwNCiAgICBTdG9yZSwNCiAgICBSZXNlcnZhdGlvbg0KICB9LA0KDQogIG1ldGhvZHM6IHsNCg0KICAgIC8qKiDjgYrmsJfjgavlhaXjgormqZ/og73jga7jg4fjg7zjgr/lj5blvpcgKi8NCiAgICAgYXN5bmMgZmF2b3JpdGVzU3RvcmVkYXRhaW4oKXsNCg0KICAgICAgLy8gIOOBiuawl+OBq+WFpeOCiuODh+ODvOOCv+OBruWPluW+lyBHZXQNCiAgICAgIGF3YWl0IGF4aW9zLmdldCggdGhpcy4kc3RvcmUuc3RhdGUuaG9zdCArICIvYXBpL3YxLyIgKyB0aGlzLiRzdG9yZS5zdGF0ZS51c2VyLmlkICsgIi9mYXZvcml0ZXMiKS50aGVuKChyZXNwb25zZSkgPT4ge3RoaXMuZmF2b3JpdGVkYXRhID1yZXNwb25zZS5kYXRhLmRhdGF9KQ0KDQogICAgICAvLyAg5Y+W5b6X44GX44Gf44GK5rCX44Gr5YWl44KK44OH44O844K/44GL44KJ44K544OI44Ki44OH44O844K/44KS5Y+W5b6XIEdldA0KICAgICAgZm9yKGxldCBuID0gMDsgbiA8IHRoaXMuZmF2b3JpdGVkYXRhLmxlbmd0aDsgbisrKXsNCiAgICAgICAgYXdhaXQgYXhpb3MuZ2V0KHRoaXMuJHN0b3JlLnN0YXRlLmhvc3QgKyAiL2FwaS92MS8iICsgdGhpcy5mYXZvcml0ZWRhdGFbbl0uc3RvcmVfaWQgKyAiL3N0b3JlcyIpLnRoZW4oKHJlc3BvbnNlKSA9PiB7dGhpcy5zdG9yZWRhdGFbbl0gPXJlc3BvbnNlLmRhdGEuZGF0YVswXX0pDQoNCiAgICAgIH0NCg0KICAgICAgLy8gIOODh+ODvOOCv+OBruWPluW+l+OBjOWujOS6huOBl+OBn+OBk+OBqOOCkueiuuiqjeOBmeOCi+OBn+OCgeOBruOCueOCpOODg+ODgQ0KICAgICAgdGhpcy5zeW5jPXRydWUNCiAgICAgIA0KICAgIH0sDQoNCiAgICAvKiog5LqI57SE5qmf6IO944Gu44OH44O844K/5Y+W5b6XICovDQogICAgYXN5bmMgcmVzZXJ2YXRpb25kYXRhaW4oKXsNCg0KICAgICAgLy8gIOS6iOe0hOODh+ODvOOCv+OBruWPluW+lyBHZXQNCiAgICAgIGF3YWl0IGF4aW9zLmdldCggdGhpcy4kc3RvcmUuc3RhdGUuaG9zdCArICIvYXBpL3YxLyIgKyB0aGlzLiRzdG9yZS5zdGF0ZS51c2VyLmlkICsgIi9yZXNlcnZhdGlvbnMiKS50aGVuKChyZXNwb25zZSkgPT4ge3RoaXMucmVzZXJ2YXRpb25kYXRhID1yZXNwb25zZS5kYXRhLmRhdGF9KQ0KDQogICAgICAvLyAg5Y+W5b6X44GX44Gf5LqI57SE44OH44O844K/44GL44KJ44K544OI44Ki44OH44O844K/44KS5Y+W5b6XIEdldA0KICAgICAgZm9yKGxldCBpID0gMDsgaSA8IHRoaXMucmVzZXJ2YXRpb25kYXRhLmxlbmd0aDsgaSsrKXsNCiAgICAgICAgYXdhaXQgYXhpb3MuZ2V0KHRoaXMuJHN0b3JlLnN0YXRlLmhvc3QgKyAiL2FwaS92MS8iICsgdGhpcy5yZXNlcnZhdGlvbmRhdGFbaV0ucmVzZXJ2YXRpb25zLnN0b3JlX2lkICsgIi9zdG9yZXMiKS50aGVuKChyZXNwb25zZSkgPT4ge3RoaXMucmVzZXJ2YXRpb25TdG9yZWRhdGFbaV0gPXJlc3BvbnNlLmRhdGEuZGF0YVswXX0pDQogICAgICB9DQoNCiAgICAgIC8v44OH44O844K/44Gu5Y+W5b6X44GM5a6M5LqG44GX44Gf44GT44Go44KS56K66KqN44GZ44KL44Gf44KB44Gu44K544Kk44OD44OBDQogICAgICB0aGlzLnN5bmMyPXRydWUNCiAgICB9LA0KDQogICAgLyoqIOOCueODiOOCouS4gOimp+ODmuODvOOCuOOBq+mBt+enuyovDQogICAgU3RvcmVMaXN0KCl7DQogICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7DQogICAgICAgIG5hbWU6ICdTdG9yZUxpc3QnDQogICAgICB9KQ0KICAgIH0sDQoNCiAgICAvKiog44Ot44Kw44Ki44Km44OI55S76Z2i44Gr6YG356e7Ki8NCiAgICBMb2dvdXQoKXsNCiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsNCiAgICAgICAgbmFtZTogJ0xvZ291dCcNCiAgICAgIH0pDQogICAgfSwNCg0KICAgIC8qKiDnrqHnkIbogIXnlLvpnaLjgavpgbfnp7sqLw0KICAgIEFkbWluKCl7DQogICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7DQogICAgICAgIG5hbWU6ICdBZG1pbicNCiAgICAgIH0pDQogICAgfSwNCg0KICAgIC8qKiDlupfoiJfnrqHnkIbogIXnlLvpnaLjgavpgbfnp7sqLw0KICAgIFN0b3JlQWRtaW4oKXsNCiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsNCiAgICAgICAgbmFtZTogJ1N0b3JlQWRtaW4nDQogICAgICB9KQ0KICAgIH0sDQoNCiAgfSwNCg0KIGNyZWF0ZWQoKSB7DQogICAgdGhpcy5yZXNlcnZhdGlvbmRhdGFpbigpOw0KICAgIHRoaXMuZmF2b3JpdGVzU3RvcmVkYXRhaW4oKTsNCiAgfSwNCg0KfQ0K"},{"version":3,"sources":["MyPage.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkCA;AACA;;AAEA;AACA;;AAEA;AACA;;;AAGA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA","file":"MyPage.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n  <div v-if=\"sync && sync2\" id=\"Mypage\">\r\n    <div class=\"header-icon header-flex\">\r\n      <HeaderIcon/>\r\n      <div class =\"header-link flex\">\r\n         <p v-if=\"$store.state.user.admin === 1\" @click=\"Admin\" class = \"adminbotton\">管理者画面へ</p>\r\n         <p v-if=\"$store.state.user.storeAdmin === 1\" @click=\"StoreAdmin\" class = \"adminbotton\">店舗管理者画面へ</p>\r\n        <p @click=\"StoreList\" class=\"storelist\">ストア一覧</p>\r\n        <p @click=\"Logout\" class=\"logout\">ログアウト</p>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"flex\">\r\n      <div class=\"left-mypage\">\r\n        <p>予約状況</p>\r\n        <div class=\"mypage-store\" v-for=\"(reservation,index) in reservationdata\" :key=\"index\">\r\n          <Reservation :parentReservationdata=\"reservation\" :parentReservationStoredata=\"reservationStoredata[index]\" :parentIndex=\"index+1\" :parentSwitch=\"false\" />\r\n        </div>\r\n      </div>\r\n      <div class=\"right-mypage\">\r\n        <h1>{{this.$store.state.user.name}}さん</h1>\r\n        <p>お気に入りの店舗</p>\r\n        <div class=\"flex\">\r\n          <div class=\"mypage-store\" v-for=\"(store,index) in storedata\" :key=\"index\">\r\n            <Store :parentStore=\"store\" :parentFavorite=\"favoritedata\"/>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n   \r\n  </div>\r\n</template>\r\n\r\n<script>\r\n/** Headerの会社ロゴのコンポーネント */\r\nimport HeaderIcon from '@/components/HeaderIcon.vue'\r\n\r\n/** storeデータ画像のコンポーネント */\r\nimport Store from '@/components/Store.vue'\r\n\r\n/** 予約データ画像のコンポーネント */\r\nimport Reservation from '@/components/Reservation.vue'\r\n\r\n\r\nimport axios from \"axios\";\r\n\r\nexport default {\r\n  data(){\r\n    return{\r\n      storedata:[],\r\n      favoritedata:[],\r\n      reservationdata:\"\",\r\n      reservationStoredata:[],\r\n      sync:false,\r\n      sync2:false,\r\n    }\r\n  },\r\n\r\n  components: {\r\n    HeaderIcon,\r\n    Store,\r\n    Reservation\r\n  },\r\n\r\n  methods: {\r\n\r\n    /** お気に入り機能のデータ取得 */\r\n     async favoritesStoredatain(){\r\n\r\n      //  お気に入りデータの取得 Get\r\n      await axios.get( this.$store.state.host + \"/api/v1/\" + this.$store.state.user.id + \"/favorites\").then((response) => {this.favoritedata =response.data.data})\r\n\r\n      //  取得したお気に入りデータからストアデータを取得 Get\r\n      for(let n = 0; n < this.favoritedata.length; n++){\r\n        await axios.get(this.$store.state.host + \"/api/v1/\" + this.favoritedata[n].store_id + \"/stores\").then((response) => {this.storedata[n] =response.data.data[0]})\r\n\r\n      }\r\n\r\n      //  データの取得が完了したことを確認するためのスイッチ\r\n      this.sync=true\r\n      \r\n    },\r\n\r\n    /** 予約機能のデータ取得 */\r\n    async reservationdatain(){\r\n\r\n      //  予約データの取得 Get\r\n      await axios.get( this.$store.state.host + \"/api/v1/\" + this.$store.state.user.id + \"/reservations\").then((response) => {this.reservationdata =response.data.data})\r\n\r\n      //  取得した予約データからストアデータを取得 Get\r\n      for(let i = 0; i < this.reservationdata.length; i++){\r\n        await axios.get(this.$store.state.host + \"/api/v1/\" + this.reservationdata[i].reservations.store_id + \"/stores\").then((response) => {this.reservationStoredata[i] =response.data.data[0]})\r\n      }\r\n\r\n      //データの取得が完了したことを確認するためのスイッチ\r\n      this.sync2=true\r\n    },\r\n\r\n    /** ストア一覧ページに遷移*/\r\n    StoreList(){\r\n      this.$router.push({\r\n        name: 'StoreList'\r\n      })\r\n    },\r\n\r\n    /** ログアウト画面に遷移*/\r\n    Logout(){\r\n      this.$router.push({\r\n        name: 'Logout'\r\n      })\r\n    },\r\n\r\n    /** 管理者画面に遷移*/\r\n    Admin(){\r\n      this.$router.push({\r\n        name: 'Admin'\r\n      })\r\n    },\r\n\r\n    /** 店舗管理者画面に遷移*/\r\n    StoreAdmin(){\r\n      this.$router.push({\r\n        name: 'StoreAdmin'\r\n      })\r\n    },\r\n\r\n  },\r\n\r\n created() {\r\n    this.reservationdatain();\r\n    this.favoritesStoredatain();\r\n  },\r\n\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n#Mypage{\r\n  width:100%;\r\n  background-color:rgb(206, 206, 206);\r\n}\r\n\r\n\r\n.flex {\r\n  display: flex;\r\n  flex-wrap :wrap;\r\n}\r\n\r\n\r\n.header-flex {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  width:90%;\r\n}\r\n\r\n.header-link{\r\n  margin-top:65px;\r\n}\r\n\r\n.header-link p{\r\n  font-size:18px;\r\n  margin-right:25px;\r\n  cursor: pointer;\r\n}\r\n\r\n.storelist{\r\n  color:blue;\r\n  text-shadow:1px 2px 3px #11af00;\r\n  cursor: pointer;\r\n}\r\n\r\n.logout{\r\n  color:red;\r\n  text-shadow:1px 2px 3px #f0ec00;\r\n  cursor: pointer;\r\n}\r\n\r\n.adminbotton {\r\n  color: rgb(0, 255, 0);\r\n  text-shadow:1px 2px 3px #f00000;\r\n  cursor: pointer;\r\n}\r\n\r\n.left-mypage{\r\n  display: table;\r\n  width:40%;\r\n  margin:250px auto;\r\n}\r\n\r\n.left-mypage p{\r\n  color:black;\r\n  margin-bottom:30px;\r\n  size:22px;\r\n  font-weight:bold;\r\n}\r\n\r\n.right-mypage{\r\n  width:40%;\r\n  margin:180px 0 276px;\r\n  padding-right:60px;\r\n}\r\n\r\n.right-mypage h1{\r\n  color:black;\r\n  margin-bottom:30px;\r\n  font-size:32px;\r\n  font-weight:bold;\r\n}\r\n\r\n.right-mypage p{\r\n  color:black;\r\n  margin-bottom:30px;\r\n  size:22px;\r\n  font-weight:bold;\r\n}\r\n\r\n.mypage-store {\r\n  width:200px;\r\n  margin:0 30px 45px 0;\r\n}\r\n\r\n\r\n\r\n</style>"]}]}