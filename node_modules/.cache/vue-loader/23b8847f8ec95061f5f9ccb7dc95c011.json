{"remainingRequest":"C:\\Users\\ぱすー\\Desktop\\rase-vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\ぱすー\\Desktop\\rase-vue\\src\\views\\MyPage.vue?vue&type=style&index=0&id=6065b006&scoped=true&lang=css&","dependencies":[{"path":"C:\\Users\\ぱすー\\Desktop\\rase-vue\\src\\views\\MyPage.vue","mtime":1625854091749},{"path":"C:\\Users\\ぱすー\\Desktop\\rase-vue\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\ぱすー\\Desktop\\rase-vue\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"C:\\Users\\ぱすー\\Desktop\\rase-vue\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"C:\\Users\\ぱすー\\Desktop\\rase-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\ぱすー\\Desktop\\rase-vue\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCg0KDQojTXlwYWdlew0KICB3aWR0aDoxMDAlOw0KICBiYWNrZ3JvdW5kLWNvbG9yOnJnYigyMDYsIDIwNiwgMjA2KTsNCn0NCg0KDQouZmxleCB7DQogIGRpc3BsYXk6IGZsZXg7DQogIGZsZXgtd3JhcCA6d3JhcDsNCn0NCg0KDQouaGVhZGVyLWZsZXggew0KICBkaXNwbGF5OiBmbGV4Ow0KICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47DQogIHdpZHRoOjkwJTsNCn0NCg0KLmhlYWRlci1saW5rew0KICBtYXJnaW4tdG9wOjY1cHg7DQp9DQoNCi5oZWFkZXItbGluayBwew0KICBmb250LXNpemU6MThweDsNCiAgbWFyZ2luLXJpZ2h0OjI1cHg7DQogIGN1cnNvcjogcG9pbnRlcjsNCn0NCg0KLnN0b3JlbGlzdHsNCiAgY29sb3I6Ymx1ZTsNCiAgdGV4dC1zaGFkb3c6MXB4IDJweCAzcHggIzExYWYwMDsNCiAgY3Vyc29yOiBwb2ludGVyOw0KfQ0KDQoubG9nb3V0ew0KICBjb2xvcjpyZWQ7DQogIHRleHQtc2hhZG93OjFweCAycHggM3B4ICNmMGVjMDA7DQogIGN1cnNvcjogcG9pbnRlcjsNCn0NCg0KLmFkbWluYm90dG9uIHsNCiAgY29sb3I6IHJnYigwLCAyNTUsIDApOw0KICB0ZXh0LXNoYWRvdzoxcHggMnB4IDNweCAjZjAwMDAwOw0KICBjdXJzb3I6IHBvaW50ZXI7DQp9DQoNCi5sZWZ0LW15cGFnZXsNCiAgZGlzcGxheTogdGFibGU7DQogIHdpZHRoOjQwJTsNCiAgbWFyZ2luOjI1MHB4IGF1dG87DQp9DQoNCi5sZWZ0LW15cGFnZSBwew0KICBjb2xvcjpibGFjazsNCiAgbWFyZ2luLWJvdHRvbTozMHB4Ow0KICBzaXplOjIycHg7DQogIGZvbnQtd2VpZ2h0OmJvbGQ7DQp9DQoNCi5yaWdodC1teXBhZ2V7DQogIHdpZHRoOjQwJTsNCiAgbWFyZ2luOjE4MHB4IDAgMjc2cHg7DQogIHBhZGRpbmctcmlnaHQ6NjBweDsNCn0NCg0KLnJpZ2h0LW15cGFnZSBoMXsNCiAgY29sb3I6YmxhY2s7DQogIG1hcmdpbi1ib3R0b206MzBweDsNCiAgZm9udC1zaXplOjMycHg7DQogIGZvbnQtd2VpZ2h0OmJvbGQ7DQp9DQoNCi5yaWdodC1teXBhZ2UgcHsNCiAgY29sb3I6YmxhY2s7DQogIG1hcmdpbi1ib3R0b206MzBweDsNCiAgc2l6ZToyMnB4Ow0KICBmb250LXdlaWdodDpib2xkOw0KfQ0KDQoubXlwYWdlLXN0b3JlIHsNCiAgd2lkdGg6MjAwcHg7DQogIG1hcmdpbjowIDMwcHggNDVweCAwOw0KfQ0KDQoNCg0K"},{"version":3,"sources":["MyPage.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsJA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA","file":"MyPage.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n  <div v-if=\"sync && sync2\" id=\"Mypage\">\r\n    <div class=\"header-icon header-flex\">\r\n      <HeaderIcon/>\r\n      <div class =\"header-link flex\">\r\n         <p @click=\"Admin\" class = \"adminbotton\">管理者画面へ</p>\r\n         <p @click=\"StoreAdmin\" class = \"adminbotton\">店舗管理者画面へ</p>\r\n        <p @click=\"StoreList\" class=\"storelist\">ストア一覧</p>\r\n        <p @click=\"Logout\" class=\"logout\">ログアウト</p>\r\n      </div>\r\n    </div>\r\n    <div class=\"flex\">\r\n      <div class=\"left-mypage\">\r\n        <p>予約状況</p>\r\n        <div class=\"mypage-store\" v-for=\"(reservation,index) in reservationdata\" :key=\"index\">\r\n          <Reservation :parentReservationdata=\"reservation\" :parentReservationStoredata=\"reservationStoredata[index]\" :parentIndex=\"index+1\" :parentSwitch=\"false\" />\r\n        </div>\r\n      </div>\r\n      <div class=\"right-mypage\">\r\n        <h1>{{this.$store.state.user.name}}さん</h1>\r\n        <p>お気に入りの店舗</p>\r\n        <div class=\"flex\">\r\n          <div class=\"mypage-store\" v-for=\"(store,index) in storedata\" :key=\"index\">\r\n            <Store :parentStore=\"store\" :parentFavorite=\"favoritedata\"/>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n   \r\n    \r\n  </div>\r\n</template>\r\n\r\n<script>\r\n/** Headerの会社ロゴのコンポーネント */\r\nimport HeaderIcon from '@/components/HeaderIcon.vue'\r\n\r\n/** storeデータ画像のコンポーネント */\r\nimport Store from '@/components/Store.vue'\r\n\r\n/** 予約データ画像のコンポーネント */\r\nimport Reservation from '@/components/Reservation.vue'\r\n\r\n\r\nimport axios from \"axios\";\r\n\r\nexport default {\r\n  data(){\r\n    return{\r\n      storedata:[],\r\n      favoritedata:[],\r\n      reservationdata:\"\",\r\n      reservationStoredata:[],\r\n      sync:false,\r\n      sync2:false,\r\n    }\r\n  },\r\n\r\n  components: {\r\n    HeaderIcon,\r\n    Store,\r\n    Reservation\r\n  },\r\n\r\n    // --------------------- //\r\n    //     データの取得      //\r\n    // --------------------- //\r\n  methods: {\r\n\r\n    /** お気に入り機能のデータ取得 */\r\n     async favoritesStoredatain(){\r\n\r\n      //  お気に入りデータの取得\r\n      await axios.get( this.$store.state.host + \"/api/v1/\" + this.$store.state.user.id + \"/favorites\").then((response) => {this.favoritedata =response.data.data})\r\n      console.log('お気に入りデータが入れられました')\r\n\r\n      //  取得したお気に入りデータからストアデータを取得\r\n      for(let n = 0; n < this.favoritedata.length; n++){\r\n        await axios.get(this.$store.state.host + \"/api/v1/\" + this.favoritedata[n].store_id + \"/stores\").then((response) => {this.storedata[n] =response.data.data[0]})\r\n        console.log(this.storedata[n])\r\n      }\r\n      //  データの取得が完了したことを確認するためのスイッチ\r\n      this.sync=true\r\n      \r\n    },\r\n\r\n    /** 予約機能のデータ取得 */\r\n    async reservationdatain(){\r\n\r\n      //  予約データの取得\r\n      await axios.get( this.$store.state.host + \"/api/v1/\" + this.$store.state.user.id + \"/reservations\").then((response) => {this.reservationdata =response.data.data})\r\n\r\n      //  取得した予約データからストアデータを取得\r\n      for(let i = 0; i < this.reservationdata.length; i++){\r\n        await axios.get(this.$store.state.host + \"/api/v1/\" + this.reservationdata[i].reservations.store_id + \"/stores\").then((response) => {this.reservationStoredata[i] =response.data.data[0]})\r\n      }\r\n      //データの取得が完了したことを確認するためのスイッチ。しかし現状エラー内容になるので一時御遺徳\r\n      this.sync2=true\r\n    },\r\n\r\n    /** ストア詳細ページに遷移*/\r\n    StoreList(){\r\n      this.$router.push({\r\n        name: 'StoreList'\r\n      })\r\n    },\r\n\r\n    /** ログアウト画面に遷移*/\r\n    Logout(){\r\n      this.$router.push({\r\n        name: 'Logout'\r\n      })\r\n    },\r\n\r\n    /** 管理者画面に遷移*/\r\n    Admin(){\r\n      this.$router.push({\r\n        name: 'Admin'\r\n      })\r\n    },\r\n\r\n    /** 店舗管理者画面に遷移*/\r\n    StoreAdmin(){\r\n      this.$router.push({\r\n        name: 'StoreAdmin'\r\n      })\r\n    },\r\n\r\n  },\r\n\r\n  /** データ取得の確認 */\r\n  watch: {\r\n    favoritedata: function () {\r\n      console.log('お気に入りデータが入れられました 監視')\r\n    },\r\n    reservationdata: function () {\r\n      console.log('予約データが入れられました　監視')\r\n    },\r\n  },\r\n\r\n created() {\r\n    this.reservationdatain();\r\n    this.favoritesStoredatain();\r\n  },\r\n\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n#Mypage{\r\n  width:100%;\r\n  background-color:rgb(206, 206, 206);\r\n}\r\n\r\n\r\n.flex {\r\n  display: flex;\r\n  flex-wrap :wrap;\r\n}\r\n\r\n\r\n.header-flex {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  width:90%;\r\n}\r\n\r\n.header-link{\r\n  margin-top:65px;\r\n}\r\n\r\n.header-link p{\r\n  font-size:18px;\r\n  margin-right:25px;\r\n  cursor: pointer;\r\n}\r\n\r\n.storelist{\r\n  color:blue;\r\n  text-shadow:1px 2px 3px #11af00;\r\n  cursor: pointer;\r\n}\r\n\r\n.logout{\r\n  color:red;\r\n  text-shadow:1px 2px 3px #f0ec00;\r\n  cursor: pointer;\r\n}\r\n\r\n.adminbotton {\r\n  color: rgb(0, 255, 0);\r\n  text-shadow:1px 2px 3px #f00000;\r\n  cursor: pointer;\r\n}\r\n\r\n.left-mypage{\r\n  display: table;\r\n  width:40%;\r\n  margin:250px auto;\r\n}\r\n\r\n.left-mypage p{\r\n  color:black;\r\n  margin-bottom:30px;\r\n  size:22px;\r\n  font-weight:bold;\r\n}\r\n\r\n.right-mypage{\r\n  width:40%;\r\n  margin:180px 0 276px;\r\n  padding-right:60px;\r\n}\r\n\r\n.right-mypage h1{\r\n  color:black;\r\n  margin-bottom:30px;\r\n  font-size:32px;\r\n  font-weight:bold;\r\n}\r\n\r\n.right-mypage p{\r\n  color:black;\r\n  margin-bottom:30px;\r\n  size:22px;\r\n  font-weight:bold;\r\n}\r\n\r\n.mypage-store {\r\n  width:200px;\r\n  margin:0 30px 45px 0;\r\n}\r\n\r\n\r\n\r\n</style>"]}]}