{"remainingRequest":"C:\\Users\\ぱすー\\Desktop\\rase-vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\ぱすー\\Desktop\\rase-vue\\src\\views\\StoreAdmin.vue?vue&type=style&index=0&id=0f722deb&scoped=true&lang=css&","dependencies":[{"path":"C:\\Users\\ぱすー\\Desktop\\rase-vue\\src\\views\\StoreAdmin.vue","mtime":1625854196540},{"path":"C:\\Users\\ぱすー\\Desktop\\rase-vue\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\ぱすー\\Desktop\\rase-vue\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"C:\\Users\\ぱすー\\Desktop\\rase-vue\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"C:\\Users\\ぱすー\\Desktop\\rase-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\ぱすー\\Desktop\\rase-vue\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCg0KDQoNCg0KDQojU3RvcmVBZG1pbnsNCiAgYmFja2dyb3VuZC1jb2xvcjpyZ2IoMjA2LCAyMDYsIDIwNik7DQogIHdpZHRoOjEwMCU7DQp9DQoNCi5mbGV4IHsNCiAgZGlzcGxheTogZmxleDsNCiAgZmxleC13cmFwIDp3cmFwOw0KfQ0KDQoubGVmdC1zdG9yZWRhdGF7DQogIGRpc3BsYXk6IHRhYmxlOw0KICB3aWR0aDozNSU7DQogIG1hcmdpbjo4MHB4IGF1dG87DQp9DQoNCi5zdG9yZS10b3B7DQogIHBhZGRpbmctYm90dG9tOjE1cHg7DQogIGNvbG9yOmJsYWNrOw0KICBib3JkZXItYm90dG9tOjJweCBzb2xpZCBibGFjazsNCn0NCg0KLnN0b3JlZGF0YXsNCiAgbWFyZ2luOjQwcHggMTVweDsNCn0NCg0KLmRhdGF7DQogIHBhZGRpbmctYm90dG9tOjE1cHg7DQp9DQoNCi5kYXRhIHRoew0KICBjb2xvcjpibGFjazsNCiAgd2lkdGg6MTEwcHg7DQogIHRleHQtYWxpZ246IGxlZnQ7DQp9DQoNCi5zdG9yZWRhdGFzew0KICBwYWRkaW5nLWxlZnQ6MjAlOw0KfQ0KDQouZGF0YSB0ZHsNCiAgY29sb3I6YmxhY2s7DQogIHdpZHRoOjQwJTsNCiAgdGV4dC1hbGlnbjogbGVmdDsNCn0NCg0KLmRhdGEgaW5wdXR7DQogIGNvbG9yOmJsYWNrOw0KICB2ZXJ0aWNhbC1hbGlnbjp0b3A7DQp9DQoNCi5kYXRhIHRleHRhcmVhew0KICBjb2xvcjpibGFjazsNCiAgcGFkZGluZzoxMHB4IDEwcHg7DQogIHZlcnRpY2FsLWFsaWduOnRvcDsNCn0NCg0KLnJpZ2h0LXJlc2VydmF0aW9uew0KICB3aWR0aDo0MCU7DQogIG1hcmdpbjo4MHB4IDA7DQogIHBhZGRpbmctcmlnaHQ6NjBweDsNCn0NCg0KLnJlc2VydmF0aW9uLXRvcHsNCiAgcGFkZGluZy1ib3R0b206MTVweDsNCiAgY29sb3I6YmxhY2s7DQogIGJvcmRlci1ib3R0b206MnB4IHNvbGlkIGJsYWNrOw0KfQ0KDQoucmVzZXJ2YXRpb25kYXRhew0KICBtYXJnaW46NDBweCAxNXB4Ow0KfQ0KDQoucmVzZXJ2YXRpb24tc3RvcmUgew0KICBtYXJnaW4tYm90dG9tOjMwcHg7DQp9DQoNCg0KYnV0dG9uIHsNCiAgZGlzcGxheTogdGFibGU7DQogIHdpZHRoOiAxMDBweDsNCiAgdGV4dC1hbGlnbjogY2VudGVyOw0KICBwYWRkaW5nOiA4cHggMCAxMHB4Ow0KICBjb2xvcjogI2ZmZjsNCiAgYmFja2dyb3VuZC1jb2xvcjogIzJmMDBmZjsNCiAgYm9yZGVyLXJhZGl1czogMjVweDsNCiAgY3Vyc29yOiBwb2ludGVyOw0KICBtYXJnaW46NjBweCBhdXRvIDA7DQp9DQoNCg=="},{"version":3,"sources":["StoreAdmin.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsJA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"StoreAdmin.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n  <div id=\"StoreAdmin\" v-if=\"sync || $store.state.user.storeAdmin === 1\">\r\n    <HeaderIcon/>\r\n    <div class=\"flex\">\r\n      <div class=\"left-storedata\">\r\n        <h1 class=\"store-top\">ストアの追加と更新</h1>\r\n        <div class=\"storedata\">\r\n          <div class=\"data\">\r\n            <th>店舗名:</th>\r\n            <td v-if=\"!storeAuth\" class=\"storedatas\">{{$store.state.storedata.name}}</td>\r\n            <td>\r\n              <input type=\"text\" v-if=\"storeAuth\" v-model=\"storedata.name\" />\r\n            </td>\r\n          </div>\r\n          <div class=\"data\">\r\n            <th>地域:</th>\r\n            <td v-if=\"!storeAuth\" class=\"storedatas\">{{$store.state.storedata.region}}</td>\r\n            <td>\r\n              <input type=\"text\" v-if=\"storeAuth\" v-model=\"storedata.region\" />\r\n            </td>\r\n          </div>\r\n          <div class=\"data\">\r\n            <th>ジャンル:</th>\r\n            <td v-if=\"!storeAuth\" class=\"storedatas\">{{$store.state.storedata.genre}}</td>\r\n            <td>\r\n              <input type=\"text\" v-if=\"storeAuth\" v-model=\"storedata.genre\" />\r\n            </td>\r\n          </div>\r\n          <div class=\"data\">\r\n            <th>店舗概要:</th>\r\n            <td v-if=\"!storeAuth\" class=\"storedatas\">{{$store.state.storedata.overview}}</td>\r\n            <td>\r\n              <textarea type=\"text\" v-if=\"storeAuth\" v-model=\"storedata.overview\" />\r\n            </td>\r\n          </div>\r\n          <div class=\"flex\">\r\n            <button v-if=\"!storeAuth && !this.$store.state.storedata.id\" @click=\"storeAuthOn\">店舗情報登録</button>\r\n            <button v-if=\"!storeAuth\" @click=\"storeAuthOn\">店舗情報更新</button>\r\n            <button v-if=\"storeAuth\" @click=\"storeAuthOff\">戻る</button>\r\n            <button v-if=\"storeAuth && !this.$store.state.storedata.id\" @click=\"storeDataAdd\">登録</button>\r\n            <button v-if=\"storeAuth && this.$store.state.storedata.id\" @click=\"storeDataUpdate\">更新</button>\r\n          </div>\r\n        </div>\r\n        \r\n      </div>\r\n      <div class=\"right-reservation\">\r\n        <h1 class=\"reservation-top\">店舗予約情報</h1>\r\n        <div class=\"reservationdata\">\r\n          <div class=\"reservation-store\" v-for=\"(reservation,index) in reservationdata\" :key=\"index\">\r\n            <Reservation :parentReservationdata=\"reservation\" :parentReservationStoredata=\"$store.state.storedata\" :parentIndex=\"index+1\" :parentSwitch=\"true\"/>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n/** Headerの会社ロゴのコンポーネント */\r\nimport HeaderIcon from '@/components/HeaderIcon.vue'\r\n\r\n/** 予約データ画像のコンポーネント */\r\nimport Reservation from '@/components/Reservation.vue'\r\n\r\nimport axios from \"axios\";\r\n\r\nexport default {\r\n\r\n  data(){\r\n    return{\r\n      storedata:{\r\n        name:this.$store.state.storedata.name,\r\n        region:this.$store.state.storedata.region,\r\n        genre:this.$store.state.storedata.genre,\r\n        overview:this.$store.state.storedata.overview\r\n      },\r\n      store:\"\",\r\n      storeAuth:false,\r\n      reservationdata:\"\",\r\n      sync:false\r\n\r\n    }\r\n  },\r\n\r\n  components: {\r\n    HeaderIcon,\r\n    Reservation\r\n  },\r\n\r\n  methods: {\r\n\r\n    /** そのままログインページへ（ここはいつか修正) */\r\n    storeAuthOn() {\r\n      this.storeAuth=true;\r\n    },\r\n\r\n    storeAuthOff() {\r\n      this.storeAuth=false;\r\n    },\r\n\r\n    async storeDataAdd(){\r\n\r\n      await axios.post(this.$store.state.host + \"/api/v1/storeAdmin/stores\",{\r\n        name: this.storedata.name,\r\n        region: this.storedata.region,\r\n        genre: this.storedata.genre,\r\n        overview:this.storedata.overview\r\n      }).then((response) => {this.$store.commit('storedata',response.data.data[0])});\r\n\r\n      if(this.$store.state.storedata.id){\r\n        this.storeAuth=false;\r\n      }\r\n\r\n    },\r\n\r\n    async storeDataUpdate(){\r\n\r\n      await axios.put(this.$store.state.host + \"/api/v1/\" + this.$store.state.storedata.id + \"/storeAdmin/stores\",{\r\n        name: this.storedata.name,\r\n        region: this.storedata.region,\r\n        genre: this.storedata.genre,\r\n        overview:this.storedata.overview\r\n      }).then((response) => {this.$store.commit('storedata',response.data.data[0]),this.storeAuth=false});\r\n    },\r\n\r\n    async reservationdatain(){\r\n\r\n      //  予約データの取得\r\n      await axios.get( this.$store.state.host + \"/api/v1/\" + this.$store.state.storedata.id + \"/storeAdmin/reservations\").then((response) => {this.reservationdata =response.data.data})\r\n\r\n      //データの取得が完了したことを確認するためのスイッチ。しかし現状エラー内容になるので一時御遺徳\r\n      this.sync=true\r\n    },\r\n  },\r\n\r\n   created() {\r\n     if(this.$store.state.user.storeAdmin === 1){\r\n        this.reservationdatain();\r\n     }\r\n    \r\n  },\r\n\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n\r\n\r\n\r\n#StoreAdmin{\r\n  background-color:rgb(206, 206, 206);\r\n  width:100%;\r\n}\r\n\r\n.flex {\r\n  display: flex;\r\n  flex-wrap :wrap;\r\n}\r\n\r\n.left-storedata{\r\n  display: table;\r\n  width:35%;\r\n  margin:80px auto;\r\n}\r\n\r\n.store-top{\r\n  padding-bottom:15px;\r\n  color:black;\r\n  border-bottom:2px solid black;\r\n}\r\n\r\n.storedata{\r\n  margin:40px 15px;\r\n}\r\n\r\n.data{\r\n  padding-bottom:15px;\r\n}\r\n\r\n.data th{\r\n  color:black;\r\n  width:110px;\r\n  text-align: left;\r\n}\r\n\r\n.storedatas{\r\n  padding-left:20%;\r\n}\r\n\r\n.data td{\r\n  color:black;\r\n  width:40%;\r\n  text-align: left;\r\n}\r\n\r\n.data input{\r\n  color:black;\r\n  vertical-align:top;\r\n}\r\n\r\n.data textarea{\r\n  color:black;\r\n  padding:10px 10px;\r\n  vertical-align:top;\r\n}\r\n\r\n.right-reservation{\r\n  width:40%;\r\n  margin:80px 0;\r\n  padding-right:60px;\r\n}\r\n\r\n.reservation-top{\r\n  padding-bottom:15px;\r\n  color:black;\r\n  border-bottom:2px solid black;\r\n}\r\n\r\n.reservationdata{\r\n  margin:40px 15px;\r\n}\r\n\r\n.reservation-store {\r\n  margin-bottom:30px;\r\n}\r\n\r\n\r\nbutton {\r\n  display: table;\r\n  width: 100px;\r\n  text-align: center;\r\n  padding: 8px 0 10px;\r\n  color: #fff;\r\n  background-color: #2f00ff;\r\n  border-radius: 25px;\r\n  cursor: pointer;\r\n  margin:60px auto 0;\r\n}\r\n\r\n</style>"]}]}