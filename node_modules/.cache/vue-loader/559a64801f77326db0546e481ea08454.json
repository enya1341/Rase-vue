{"remainingRequest":"/workspaces/rase-vue/node_modules/vue-loader/lib/index.js??vue-loader-options!/workspaces/rase-vue/src/views/MyPage.vue?vue&type=script&lang=js&","dependencies":[{"path":"/workspaces/rase-vue/src/views/MyPage.vue","mtime":1624894786025},{"path":"/workspaces/rase-vue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/workspaces/rase-vue/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/workspaces/rase-vue/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/workspaces/rase-vue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/workspaces/rase-vue/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQovKiogSGVhZGVy44Gu5Lya56S+44Ot44K044Gu44Kz44Oz44Od44O844ON44Oz44OIICovDQppbXBvcnQgSGVhZGVySWNvbiBmcm9tICdAL2NvbXBvbmVudHMvSGVhZGVySWNvbi52dWUnDQoNCi8qKiBzdG9yZeODh+ODvOOCv+eUu+WDj+OBruOCs+ODs+ODneODvOODjeODs+ODiCAqLw0KaW1wb3J0IFN0b3JlIGZyb20gJ0AvY29tcG9uZW50cy9TdG9yZS52dWUnDQoNCi8qKiDkuojntITjg4fjg7zjgr/nlLvlg4/jga7jgrPjg7Pjg53jg7zjg43jg7Pjg4ggKi8NCmltcG9ydCBSZXNlcnZhdGlvbiBmcm9tICdAL2NvbXBvbmVudHMvUmVzZXJ2YXRpb24udnVlJw0KDQoNCmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7DQoNCmV4cG9ydCBkZWZhdWx0IHsNCiAgZGF0YSgpew0KICAgIHJldHVybnsNCiAgICAgIHN0b3JlZGF0YTpbXSwNCiAgICAgIGZhdm9yaXRlZGF0YTpbXSwNCiAgICAgIHJlc2VydmF0aW9uZGF0YToiIiwNCiAgICAgIHJlc2VydmF0aW9uU3RvcmVkYXRhOltdLA0KICAgICAgc3luYzpmYWxzZSwNCiAgICAgIC8vIHN5bmMyOmZhbHNlDQogICAgfQ0KICB9LA0KDQogIGNvbXBvbmVudHM6IHsNCiAgICBIZWFkZXJJY29uLA0KICAgIFN0b3JlLA0KICAgIFJlc2VydmF0aW9uDQogIH0sDQoNCiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0gLy8NCiAgICAvLyAgICAg44OH44O844K/44Gu5Y+W5b6XICAgICAgLy8NCiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0gLy8NCiAgbWV0aG9kczogew0KDQogICAgLyoqIOOBiuawl+OBq+WFpeOCiuapn+iDveOBruODh+ODvOOCv+WPluW+lyAqLw0KICAgICBhc3luYyBmYXZvcml0ZXNTdG9yZWRhdGFpbigpew0KDQogICAgICAvLyAg44GK5rCX44Gr5YWl44KK44OH44O844K/44Gu5Y+W5b6XDQogICAgICBhd2FpdCBheGlvcy5nZXQoIHRoaXMuJHN0b3JlLnN0YXRlLmhvc3QgKyAiL2FwaS92MS8iICsgdGhpcy4kc3RvcmUuc3RhdGUudXNlci5pZCArICIvZmF2b3JpdGVzIikudGhlbigocmVzcG9uc2UpID0+IHt0aGlzLmZhdm9yaXRlZGF0YSA9cmVzcG9uc2UuZGF0YS5kYXRhfSkNCiAgICAgIGNvbnNvbGUubG9nKCfjgYrmsJfjgavlhaXjgorjg4fjg7zjgr/jgYzlhaXjgozjgonjgozjgb7jgZfjgZ8nKQ0KDQogICAgICAvLyAg5Y+W5b6X44GX44Gf44GK5rCX44Gr5YWl44KK44OH44O844K/44GL44KJ44K544OI44Ki44OH44O844K/44KS5Y+W5b6XDQogICAgICBmb3IobGV0IG4gPSAwOyBuIDwgdGhpcy5mYXZvcml0ZWRhdGEubGVuZ3RoOyBuKyspew0KICAgICAgICBhd2FpdCBheGlvcy5nZXQodGhpcy4kc3RvcmUuc3RhdGUuaG9zdCArICIvYXBpL3YxLyIgKyB0aGlzLmZhdm9yaXRlZGF0YVtuXS5zdG9yZV9pZCArICIvc3RvcmVzIikudGhlbigocmVzcG9uc2UpID0+IHt0aGlzLnN0b3JlZGF0YVtuXSA9cmVzcG9uc2UuZGF0YS5kYXRhWzBdfSkNCiAgICAgICAgY29uc29sZS5sb2codGhpcy5zdG9yZWRhdGFbbl0pDQogICAgICB9DQogICAgICAvLyAg44OH44O844K/44Gu5Y+W5b6X44GM5a6M5LqG44GX44Gf44GT44Go44KS56K66KqN44GZ44KL44Gf44KB44Gu44K544Kk44OD44OBDQogICAgICB0aGlzLnN5bmM9dHJ1ZQ0KICAgICAgDQogICAgfSwNCg0KICAgIC8qKiDkuojntITmqZ/og73jga7jg4fjg7zjgr/lj5blvpcgKi8NCiAgICBhc3luYyByZXNlcnZhdGlvbmRhdGFpbigpew0KDQogICAgICAvLyAg5LqI57SE44OH44O844K/44Gu5Y+W5b6XDQogICAgICBhd2FpdCBheGlvcy5nZXQoIHRoaXMuJHN0b3JlLnN0YXRlLmhvc3QgKyAiL2FwaS92MS8iICsgdGhpcy4kc3RvcmUuc3RhdGUudXNlci5pZCArICIvcmVzZXJ2YXRpb25zIikudGhlbigocmVzcG9uc2UpID0+IHt0aGlzLnJlc2VydmF0aW9uZGF0YSA9cmVzcG9uc2UuZGF0YS5kYXRhfSkNCg0KICAgICAgLy8gIOWPluW+l+OBl+OBn+S6iOe0hOODh+ODvOOCv+OBi+OCieOCueODiOOCouODh+ODvOOCv+OCkuWPluW+lw0KICAgICAgZm9yKGxldCBpID0gMDsgaSA8IHRoaXMucmVzZXJ2YXRpb25kYXRhLmxlbmd0aDsgaSsrKXsNCiAgICAgICAgYXdhaXQgYXhpb3MuZ2V0KHRoaXMuJHN0b3JlLnN0YXRlLmhvc3QgKyAiL2FwaS92MS8iICsgdGhpcy5yZXNlcnZhdGlvbmRhdGFbaV0ucmVzZXJ2YXRpb25zLnN0b3JlX2lkICsgIi9zdG9yZXMiKS50aGVuKChyZXNwb25zZSkgPT4ge3RoaXMucmVzZXJ2YXRpb25TdG9yZWRhdGFbaV0gPXJlc3BvbnNlLmRhdGEuZGF0YVswXX0pDQogICAgICB9DQogICAgICAvL+ODh+ODvOOCv+OBruWPluW+l+OBjOWujOS6huOBl+OBn+OBk+OBqOOCkueiuuiqjeOBmeOCi+OBn+OCgeOBruOCueOCpOODg+ODgeOAguOBl+OBi+OBl+ePvueKtuOCqOODqeODvOWGheWuueOBq+OBquOCi+OBruOBp+S4gOaZguW+oemBuuW+sw0KICAgICAgLy8gdGhpcy5zeW5jMj10cnVlDQogICAgfSwNCg0KICAgIC8qKiDjgrnjg4jjgqLoqbPntLDjg5rjg7zjgrjjgavpgbfnp7sqLw0KICAgIFN0b3JlTGlzdCgpew0KICAgICAgdGhpcy4kcm91dGVyLnB1c2goew0KICAgICAgICBuYW1lOiAnU3RvcmVMaXN0Jw0KICAgICAgfSkNCiAgICB9LA0KDQogICAgLyoqIOOCueODiOOCouips+e0sOODmuODvOOCuOOBq+mBt+enuyovDQogICAgTG9nb3V0KCl7DQogICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7DQogICAgICAgIG5hbWU6ICdMb2dvdXQnDQogICAgICB9KQ0KICAgIH0sDQoNCiAgfSwNCg0KICAvKiog44OH44O844K/5Y+W5b6X44Gu56K66KqNICovDQogIHdhdGNoOiB7DQogICAgZmF2b3JpdGVkYXRhOiBmdW5jdGlvbiAoKSB7DQogICAgICBjb25zb2xlLmxvZygn44GK5rCX44Gr5YWl44KK44OH44O844K/44GM5YWl44KM44KJ44KM44G+44GX44GfIOebo+imlicpDQogICAgfSwNCiAgICByZXNlcnZhdGlvbmRhdGE6IGZ1bmN0aW9uICgpIHsNCiAgICAgIGNvbnNvbGUubG9nKCfkuojntITjg4fjg7zjgr/jgYzlhaXjgozjgonjgozjgb7jgZfjgZ/jgIDnm6PoppYnKQ0KICAgIH0sDQogIH0sDQoNCiBjcmVhdGVkKCkgew0KICAgIHRoaXMucmVzZXJ2YXRpb25kYXRhaW4oKTsNCiAgICB0aGlzLmZhdm9yaXRlc1N0b3JlZGF0YWluKCk7DQogIH0sDQoNCn0NCg=="},{"version":3,"sources":["MyPage.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiCA;AACA;;AAEA;AACA;;AAEA;AACA;;;AAGA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA","file":"MyPage.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n  <div v-if=\"sync\" id=\"Mypage\">\r\n    <div class=\"header-icon header-flex\">\r\n      <HeaderIcon/>\r\n      <div class =\"header-link flex\">\r\n        <p @click=\"StoreList\" class=\"storelist\">ストア一覧</p>\r\n        <p @click=\"Logout\" class=\"logout\">ログアウト</p>\r\n      </div>\r\n    </div>\r\n    <div class=\"flex\">\r\n      <div class=\"left-mypage\">\r\n        <p>予約状況</p>\r\n        <div class=\"mypage-store\" v-for=\"(reservation,index) in reservationdata\" :key=\"index\">\r\n          <Reservation :parentReservationdata=\"reservation\" :parentReservationStoredata=\"reservationStoredata[index]\" :parentIndex=\"index+1\"/>\r\n        </div>\r\n      </div>\r\n      <div class=\"right-mypage\">\r\n        <h1>{{this.$store.state.user.name}}さん</h1>\r\n        \r\n        <p>お気に入りの店舗</p>\r\n        <div class=\"flex\">\r\n          <div class=\"mypage-store\" v-for=\"(store,index) in storedata\" :key=\"index\">\r\n            <Store :parentStore=\"store\" :parentFavorite=\"favoritedata\"/>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n   \r\n    \r\n  </div>\r\n</template>\r\n\r\n<script>\r\n/** Headerの会社ロゴのコンポーネント */\r\nimport HeaderIcon from '@/components/HeaderIcon.vue'\r\n\r\n/** storeデータ画像のコンポーネント */\r\nimport Store from '@/components/Store.vue'\r\n\r\n/** 予約データ画像のコンポーネント */\r\nimport Reservation from '@/components/Reservation.vue'\r\n\r\n\r\nimport axios from \"axios\";\r\n\r\nexport default {\r\n  data(){\r\n    return{\r\n      storedata:[],\r\n      favoritedata:[],\r\n      reservationdata:\"\",\r\n      reservationStoredata:[],\r\n      sync:false,\r\n      // sync2:false\r\n    }\r\n  },\r\n\r\n  components: {\r\n    HeaderIcon,\r\n    Store,\r\n    Reservation\r\n  },\r\n\r\n    // --------------------- //\r\n    //     データの取得      //\r\n    // --------------------- //\r\n  methods: {\r\n\r\n    /** お気に入り機能のデータ取得 */\r\n     async favoritesStoredatain(){\r\n\r\n      //  お気に入りデータの取得\r\n      await axios.get( this.$store.state.host + \"/api/v1/\" + this.$store.state.user.id + \"/favorites\").then((response) => {this.favoritedata =response.data.data})\r\n      console.log('お気に入りデータが入れられました')\r\n\r\n      //  取得したお気に入りデータからストアデータを取得\r\n      for(let n = 0; n < this.favoritedata.length; n++){\r\n        await axios.get(this.$store.state.host + \"/api/v1/\" + this.favoritedata[n].store_id + \"/stores\").then((response) => {this.storedata[n] =response.data.data[0]})\r\n        console.log(this.storedata[n])\r\n      }\r\n      //  データの取得が完了したことを確認するためのスイッチ\r\n      this.sync=true\r\n      \r\n    },\r\n\r\n    /** 予約機能のデータ取得 */\r\n    async reservationdatain(){\r\n\r\n      //  予約データの取得\r\n      await axios.get( this.$store.state.host + \"/api/v1/\" + this.$store.state.user.id + \"/reservations\").then((response) => {this.reservationdata =response.data.data})\r\n\r\n      //  取得した予約データからストアデータを取得\r\n      for(let i = 0; i < this.reservationdata.length; i++){\r\n        await axios.get(this.$store.state.host + \"/api/v1/\" + this.reservationdata[i].reservations.store_id + \"/stores\").then((response) => {this.reservationStoredata[i] =response.data.data[0]})\r\n      }\r\n      //データの取得が完了したことを確認するためのスイッチ。しかし現状エラー内容になるので一時御遺徳\r\n      // this.sync2=true\r\n    },\r\n\r\n    /** ストア詳細ページに遷移*/\r\n    StoreList(){\r\n      this.$router.push({\r\n        name: 'StoreList'\r\n      })\r\n    },\r\n\r\n    /** ストア詳細ページに遷移*/\r\n    Logout(){\r\n      this.$router.push({\r\n        name: 'Logout'\r\n      })\r\n    },\r\n\r\n  },\r\n\r\n  /** データ取得の確認 */\r\n  watch: {\r\n    favoritedata: function () {\r\n      console.log('お気に入りデータが入れられました 監視')\r\n    },\r\n    reservationdata: function () {\r\n      console.log('予約データが入れられました　監視')\r\n    },\r\n  },\r\n\r\n created() {\r\n    this.reservationdatain();\r\n    this.favoritesStoredatain();\r\n  },\r\n\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n#Mypage{\r\n  width:100%;\r\n  background-color:rgb(206, 206, 206);\r\n}\r\n\r\n\r\n.flex {\r\n  display: flex;\r\n  flex-wrap :wrap;\r\n}\r\n\r\n\r\n.header-flex {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  width:90%;\r\n}\r\n\r\n.header-link{\r\n  margin-top:65px;\r\n}\r\n\r\n.header-link p{\r\n  font-size:18px;\r\n  margin-right:25px;\r\n  cursor: pointer;\r\n}\r\n\r\n.storelist{\r\n  color:blue;\r\n}\r\n\r\n.logout{\r\n  color:red;\r\n}\r\n\r\n.left-mypage{\r\n  display: table;\r\n  width:40%;\r\n  margin:250px auto;\r\n}\r\n\r\n.left-mypage p{\r\n  color:black;\r\n  margin-bottom:30px;\r\n  size:22px;\r\n  font-weight:bold;\r\n}\r\n\r\n.right-mypage{\r\n  width:40%;\r\n  margin:180px 0 276px;\r\n  padding-right:60px;\r\n}\r\n\r\n.right-mypage h1{\r\n  color:black;\r\n  margin-bottom:30px;\r\n  font-size:32px;\r\n  font-weight:bold;\r\n}\r\n\r\n.right-mypage p{\r\n  color:black;\r\n  margin-bottom:30px;\r\n  size:22px;\r\n  font-weight:bold;\r\n}\r\n\r\n.mypage-store {\r\n  width:200px;\r\n  margin:0 30px 45px 0;\r\n}\r\n\r\n</style>"]}]}